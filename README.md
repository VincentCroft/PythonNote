# Python学习笔记

## 1.Python 编程基础

### 1.1Python 注释规则

注释（Comments）用来向用户提示或解释某些代码的作用和功能，它可以出现在代码中的任何位置。[Python](http://c.biancheng.net/python/) 解释器在执行代码时会忽略注释，不做任何处理，就好像它不存在一样。

在调试（Debug）程序的过程中，注释还可以用来临时移除无用的代码。

Python 支持两种类型的注释，分别是单行注释和多行注释

#### 一.Python 单行注释

Python 使用井号`#`作为单行注释的符号，语法格式为：

> \# 注释内容

注意：从井号`#`开始，直到这行结束为止的所有内容都是注释。Python 解释器遇到`#`时，会忽略它后面的整行内容

**Tips：**

（1）说明多行代码的功能时一般将注释放在代码的上一行，例如：

```python
#使用print输出字符串
print("Hello World!")
print("C语言中文网")
print("http://c.biancheng.net/python/")
#使用 print输出数字
print(100)
print( 3 + 100 * 2)
print( (3 + 100) * 2 )
```

（2）说明单行代码的功能时一般将注释放在代码的右侧，例如：

```python
print("http://c.biancheng.net/python/")  #输出Python教程的地址
print( 36.7 * 14.5 )  #输出乘积
print( 100 % 7 )  #输出余数
```

#### 二.Python 多行注释

多行注释指的是一次性注释程序中多行的内容（包含一行）。

Python 使用三个连续的单引号'''或者三个连续的双引号"""注释多行内容，具体格式如下：

```python
'''
使用 3 个单引号分别作为注释的开头和结尾
可以一次性注释多行内容
这里面的内容全部是注释内容
'''
```

或者

```py
"""
使用 3 个双引号分别作为注释的开头和结尾
可以一次性注释多行内容
这里面的内容全部是注释内容
"""
```

注意：多行注释通常用来为 Python 文件、模块、类或者函数等添加版权或者功能描述信息。

#### 三.注释注意事项

1) Python 多行注释不支持嵌套，所以下面的写法是**错误**的：

```python
'''
外层注释
    '''
    内层注释
    '''
'''
   
```

2. 不管是多行注释还是单行注释，当注释符作为字符串的一部分出现时，就不能再将它们视为注释标记，而应该看做正常代码的一部分，例如：

```py
print('''Hello,World!''')
print("""http://c.biancheng.net/cplus/""")
print("#是单行注释的开始")
```

以下为以上代码的运行结果：

```
Hello,World!
http://c.biancheng.net/cplus/
#是单行注释的开始
```

> 解读：
>
> 对于前两行代码，Python 没有将这里的三个引号看作是多行注释，而是将它们看作字符串的开始和结束标志。
>
> 对于第 3 行代码，Python 也没有将井号看作单行注释，而是将它看作字符串的一部分。

### 1.2Python 缩进规则

[Python](http://c.biancheng.net/python/) 采用代码缩进和冒号（ : ）来区分代码块之间的层次。

在 Python 中，对于类定义、函数定义、流程控制语句、异常处理语句等，行尾的冒号和下一行的缩进，表示下一个代码块的开始，而缩进的结束则表示此代码块的结束。

> 注意：Python 中实现对代码的缩进，可以使用空格或者 Tab 键实现。但无论是手动敲空格，还是使用 Tab 键，通常情况下都是采用 4 个空格长度作为一个缩进量（默认情况下，一个 Tab 键就表示 4 个空格）。

例子：下面这段 Python 代码中

```python
height=float(input("输入身高：")) #输入身高
weight=float(input("输入体重：")) #输入体重
bmi=weight/(height*height)       #计算BMI指数
#判断身材是否合理
if bmi<18.5:
    #下面 2 行同属于 if 分支语句中包含的代码，因此属于同一作用域
    print("BMI指数为："+str(bmi)) #输出BMI指数
    print("体重过轻")
if bmi>=18.5 and bmi<24.9:
    print("BMI指数为："+str(bmi)) #输出BMI指数
    print("正常范围，注意保持")
if bmi>=24.9 and bmi<29.9:
    print("BMI指数为："+str(bmi)) #输出BMI指数
    print("体重过重")
if bmi>=29.9:
    print(BMI指数为："+str(bmi)) #输出BMI指数
    print("肥胖")
```

**Python 对代码的缩进要求非常严格，同一个级别代码块的缩进量必须一样，否则解释器会报 SyntaxError 异常错误。例如，对上面代码做错误改动，将位于同一作用域中的 2 行代码，它们的缩进量分别设置为 4 个空格和 3 个空格，如下所示：**

```python
if bmi<18.5:
    print("BMI指数为："+str(bmi)) #输出BMI指数
   print("体重过轻")
```

可以看到，第二行代码和第三航代码本来属于同一作用域，但我们手动修改了各自的缩进量，这会导致 SyntaxError 异常错误，如下图所示。

![](http://c.biancheng.net/uploads/allimg/190624/1-1Z624120Z3360.jpg)

对于 Python 缩进规则，初学者可以这样理解，Python 要求属于同一作用域中的各行代码，它们的缩进量必须一致，但具体缩进量为多少，并不做硬性规定。

### 1.3Python 编码规范

![](http://c.biancheng.net/uploads/allimg/190624/1-1Z62414494a07.jpg)

对比上图的两段代码你会发现，它们所包含的代码时完全相同的，但很明显，右侧的代码编写格式看上去比左侧的代码段更加规整，阅读起来也会比较轻松、畅快，因为它遵循了最基本的 Python 代码编写规范。

Python 采用 PEP 8 作为编码规范，其中 PEP 是 Python Enhancement Proposal（Python 增强建议书）的缩写，8 代表的是 Python 代码的样式指南。下面仅给大家列出 PEP 8 中初学者应严格遵守的一些编码规则：

> 1.每个 import 语句只导入一个模块，尽量避免一次导入多个模块，例如：

```python
#推荐
import os
import sys
#不推荐
import os,sys
```

> 2.不要在行尾添加分号，也不要用分号将两条命令放在同一行，例如：

```python
#不推荐
height=float(input("输入身高：")) ; weight=fioat(input("输入体重：")) ;
```

> 3.建议每行不超过 80 个字符，如果超过，建议使用小括号将多行内容隐式的连接起来，而不推荐使用反斜杠 \ 进行连接。例如，如果一个字符串文本无法实现一行完全显示，则可以使用小括号将其分开显示，代码如下：

```python
#推荐
s=("C语言中文网是中国领先的C语言程序设计专业网站，"
"提供C语言入门经典教程、C语言编译器、C语言函数手册等。")
#不推荐
s="C语言中文网是中国领先的C语言程序设计专业网站，\
提供C语言入门经典教程、C语言编译器、C语言函数手册等。"
```

**注意：此编程规范适用于绝对大多数情况，但以下 2 种情况除外**

- **导入模块的语句过长。**
- **注释里的 URL。**

> 4.使用必要的空行可以增加代码的可读性，通常在顶级定义（如函数或类的定义）之间空两行，而方法定义之间空一行，另外在用于分隔某些功能的位置也可以空一行。比如说，在上图右侧这段代码中，if 判断语句同之前的代码多实现的功能不同，因此这里可以使用空行进行分隔。

> 5.通常情况下，在运算符两侧、函数参数之间以及逗号两侧，都建议使用空格进行分隔。

### 1.4Python 标识符命名规范

简单地理解，标识符就是一个名字，就好像我们每个人都有属于自己的名字，它的主要作用就是作为变量、函数、类、模块以及其他对象的名称。

[Python](http://c.biancheng.net/python/) 中标识符的命名不是随意的，而是要遵守一定的命令规则，比如说：

1. 标识符是由字符（A~Z 和 a~z）、下划线和数字组成，但第一个字符不能是数字。
2. 标识符不能和 Python 中的保留字相同。
3. Python中的标识符中，不能包含空格、@、% 以及 $ 等特殊字符。

> 下面所列举的标识符是合法的：

```python
UserID
name
mode12
user_age
```

> 下面所列举的标识符不合法：

```
4word    #不能以数字开头
try          #try是保留字，不能作为标识符
$money #不能包含特殊字符
```

4.在 Python 中，标识符中的字母是严格区分大小写的，也就是说，两个同样的单词，如果大小格式不一样，多代表的意义也是完全不同的。比如说，下面这 3 个变量之间，就是完全独立、毫无关系的，它们彼此之间是相互独立的个体。

```python
number = 0
Number = 0
NUMBER = 0
```

5.Python 语言中，以下划线开头的标识符有特殊含义，例如：

- 以单下划线开头的标识符（如 _width），表示不能直接访问的类属性，其无法通过 from...import* 的方式导入
- 以双下划线开头的标识符（如__add）表示类的私有成员
- 以双下划线作为开头和结尾的标识符（如 __init__），是专用标识符

> **因此，除非特定场景需要，应避免使用以下划线开头的标识符。**
>
> **另外需要注意的是，Python 允许使用汉字作为标识符，例如:**
>
> ```python
> C语言中文网 = "http://c.biancheng.net"
> ```

6.标识符的命名，除了要遵守以上这几条规则外，不同场景中的标识符，其名称也有一定的规范可循

> - **当标识符用作模块名时，应尽量短小，并且全部使用小写字母，可以使用下划线分割多个字母，例如 game_mian、game_register 等。**
> - **当标识符用作包的名称时，应尽量短小，也全部使用小写字母，不推荐使用下划线，例如 com.mr、com.mr.book 等。**
> - **当标识符用作类名时，应采用单词首字母大写的形式。例如，定义一个图书类，可以命名为 Book。**
> - **模块内部的类名，可以采用 "下划线+首字母大写" 的形式，如 _Book;**
> - **函数名、类中的属性名和方法名，应全部使用小写字母，多个单词之间可以用下划线分割；**
> - **常量命名应全部使用大写字母，单词之间可以用下划线分割；**

### 1.5Python 关键字

保留字是 [Python](http://c.biancheng.net/python/) 语言中一些已经被赋予特定意义的单词，这就要求开发者在开发程序时，不能用这些保留字作为标识符给变量、函数、类、模板以及其他对象命名。

Python 包含的保留字可以执行如下命令进行查看：

```python
>>> import keyword
>>> keyword.kwlist
['False', 'None', 'True', 'and', 'as', 'assert', 'break', 'class', 'continue', 'def', 'del', 'elif', 'else', 'except', 'finally', 'for', 'from', 'global', 'if', 'import', 'in', 'is', 'lambda', 'nonlocal', 'not', 'or', 'pass', 'raise', 'return', 'try', 'while', 'with', 'yield']
```

Python 保留字一览表

| and   | as   | assert | break    | class  | continue |
| ----- | ---- | ------ | -------- | ------ | -------- |
| def   | del  | elif   | else     | except | finally  |
| for   | from | False  | global   | if     | import   |
| in    | is   | lambda | nonlocal | not    | None     |
| or    | pass | raise  | return   | try    | True     |
| while | with | yield  |          |        |          |

> **注意：由于 Python 是严格区分大小写的，保留字也不例外。所以，我们可以说 if 是保留字，但 IF 就不是保留字。**

***如果使用 Python 中的保留字作为标识符，则解释器会提示“invalid syntax” 的错误信息。***

### 1.6Python 内置函数

[Python](http://c.biancheng.net/python/) 解释器自带的函数叫做内置函数，这些函数可以直接使用，不需要导入某个模块。

> 概念：
>
> 将使用频繁的代码段封装起来，并给它起一个名字，以后使用的时候只要知道名字就可以，这就是函数。函数就是一段封装好的、可以重复使用的代码，它使得我们的程序更加模块化，不需要编写大量重复的代码

**注意：内置函数和标准库函数是不一样的。**

ython 解释器也是一个程序，它给用户提供了一些常用功能，并给它们起了独一无二的名字，这些常用功能就是内置函数。Python 解释器启动以后，内置函数也生效了，可以直接拿来使用。

Python 标准库相当于解释器的外部扩展，它并不会随着解释器的启动而启动，要想使用这些外部扩展，必须提前导入。Python 标准库非常庞大，包含了很多模块，要想使用某个函数，必须提前导入对应的模块，否则函数是无效的。

内置函数是解释器的一部分，它随着解释器的启动而生效；标准库函数是解释器的外部扩展，导入模块以后才能生效。一般来说，内置函数的执行效率要高于标准库函数。

Python 解释器一旦启动，所有的内置函数都生效了；而导入标准库的某个模块，只是该模块下的函数生效，并不是所有的标准库函数都生效。

内置函数的数量必须被严格控制，否则 Python 解释器会变得庞大和臃肿。一般来说，只有那些使用频繁或者和语言本身绑定比较紧密的函数，才会被提升为内置函数。

| **内置函数表** |
| -------------- |

| abs()         | delattr()   | hash()       | memoryview() | set()          |
| ------------- | ----------- | ------------ | ------------ | -------------- |
| all()         | dict()      | help()       | min()        | setattr()      |
| any()         | dir()       | hex()        | next()       | slicea()       |
| ascii()       | divmod()    | id()         | object()     | sorted()       |
| bin()         | enumerate() | input()      | oct()        | staticmethod() |
| bool()        | eval()      | int()        | open()       | str()          |
| breakpoint()  | exec()      | isinstance() | ord()        | sum()          |
| bytearray()   | filter()    | issubclass() | pow()        | super()        |
| bytes()       | float()     | iter()       | print()      | tuple()        |
| callable()    | format()    | len()        | property()   | type()         |
| chr()         | frozenset() | list()       | range()      | vars()         |
| classmethod() | getattr()   | locals()     | repr()       | zip()          |
| compile()     | globals()   | map()        | reversed()   | __import__()   |
| complex()     | hasattr()   | max()        | round()      |                |

> **注意：不要使用内置函数的名字作为标识符使用（例如变量名、函数名、类名、模板名、对象名等），虽然这样做 Python 解释器不会报错，但这会导致同名的内置函数被覆盖，从而无法使用。**

例子：

```python
>>> print = "http://c.biancheng.net/python/"  #将print作为变量名
>>> print("Hello World!")  #print函数被覆盖，失效
Traceback (most recent call last):
  File "<pyshell#1>", line 1, in <module>
    print("Hello World!")
TypeError: 'str' object is not callable
```

## 2.Python 变量类型

### 2.1Python 变量的定义和使用

> 变量（Variable）可以看成一个小箱子，专门用来“盛装”程序中的数据。每个变量都拥有独一无二的名字，通过变量的名字就能找到变量中的数据。

从底层看，程序中的数据最终都要放到内存（内存条）中，变量其实就是这块内存的名字。

和变量相对应的是常量（Constant），它们都是用来“盛装”数据的小箱子，不同的是：变量保存的数据可以被多次修改，而常量一旦保存某个数据之后就不能修改了。

> Python变量的赋值：在编程语言中，将数据放入变量的过程叫做赋值（Assignment）。Python 使用等号`=`作为赋值运算符，具体格式为：
>
> ```python
> name = value
> ```
>
> name 表示变量名；value 表示值，也就是要存储的数据。
>
> 注意，变量是标识符的一种，它的名字不能随便起，要遵守 [Python 标识符命名规范](http://c.biancheng.net/view/4186.html)，还要避免和 [Python 内置函数](http://c.biancheng.net/view/4208.html)以及 [Python 保留字](http://c.biancheng.net/view/4188.html)重名。

例子：将整数 10 赋值给变量 n

```py
n = 10
```

解释：从此以后，n 就代表整数 10，使用 n 也就是使用 10。

更多赋值的例子：

```py
pi = 3.1415926  #将圆周率赋值给变量 pi
url = "http://c.biancheng.net/python/"  #将 Python 教程的地址赋值给变量 str
real = True  #将布尔值赋值给变量 real
```

变量的值不是一成不变的，它可以随时被修改，只要重新赋值即可；另外你也不用关心数据的类型，可以将不同类型的数据赋值给同一个变量。如下：

```py
n = 10  #将10赋值给变量n
n = 95  #将95赋值给变量n
n = 200  #将200赋值给变量n
abc = 12.5  #将小数赋值给变量abc
abc = 85  #将整数赋值给变量abc
abc = "http://c.biancheng.net/"  #将字符串赋值给变量abc
```

> **注意：变量的值一旦被修改，之前的值就被覆盖了，不复存在了，再也找不回了。换句话说，变量只能容纳一个值。**

除了赋值单个数据，你也可以将表达式的运行结果赋值给变量，例如：

```py
sum = 100 + 20  #将加法的结果赋值给变量
rem = 25 * 30 % 7  #将余数赋值给变量
str = "C语言中文网" + "http://c.biancheng.net/"  #将字符串拼接的结果赋值给变量
```

> Python 变量的使用：使用 Python 变量时，只要知道变量的名字即可。

几乎在 Python 代码的任何地方都能使用变量，请看下面的演示：

```py
>>> n = 10
>>> print(n)  #将变量传递给函数
10
>>> m = n * 10 + 5  #将变量作为四则运算的一部分
>>> print(m)
105
>>> print(m-30)  #将由变量构成的表达式作为参数传递给函数
75
>>> m = m * 2  #将变量本身的值翻倍
>>> print(m)
210
>>> url = "http://c.biancheng.net/cplus/"
>>> str = "C++教程：" + url  #字符串拼接
>>> print(str)
C++教程：http://c.biancheng.net/cplus/
```

> **Python 是弱类型的语言、**
>
> 弱类型语言有两个特点：
>
> - 变量无须声明就可以直接赋值，对一个不存在的变量赋值就相当于定义了一个新变量。
> - 变量的数据类型可以随时改变，比如，同一个变量可以一会儿被赋值为整数，一会儿被赋值为字符串。

注意，弱类型并不等于没有类型！弱类型是说在书写代码时不用刻意关注类型，但是在编程语言的内部仍然是有类型的。我们可以使用 type() 内置函数类检测某个变量或者表达式的类型，例如：

```python
>>> num = 10
>>> type(num)
<class 'int'>
>>> num = 15.8
>>> type(num)
<class 'float'>
>>> num = 20 + 15j
>>> type(num)
<class 'complex'>
>>> type(3*15.6)
<class 'float'>
```

### 2.2Python 变量类型

#### 一.整数类型（int）

> 整数就是没有小数部分的数字，[Python](http://c.biancheng.net/python/) 中的整数包括正整数、0 和负整数。

有些强类型的编程语言会提供多种整数类型，每种类型的长度都不同，能容纳的整数的大小也不同，开发者要根据实际数字的大小选用不同的类型。例如C语言提供了 short、int、long、long long 四种类型的整数，它们的长度依次递增，初学者在选择整数类型时往往比较迷惑，有时候还会导致数值溢出。

而 Python 则不同，它的整数不分类型，或者说它只有一种类型的整数。Python 整数的取值范围是无限的，不管多大或者多小的数字，Python 都能轻松处理。

> **注意：当所用数值超过计算机自身的计算能力时，Python 会自动转用高精度计算（大数计算）。**

例1：

```python
#将 78 赋值给变量 n
n = 78
print(n)
print( type(n) )
#给x赋值一个很大的整数
x = 8888888888888888888888
print(x)
print( type(x) )
#给y赋值一个很小的整数
y = -7777777777777777777777
print(y)
print( type(y) )
```

运行结果：

```
78
<class 'int'>
8888888888888888888888
<class 'int'>
-7777777777777777777777
<class 'int'>
```

**以上结果说明：不管对于多大或者多小的整数，Python 只用一种类型存储，就是 int。**

##### （1）整数的不同进制

在 Python 中，可以使用多种进制来表示整数：

1) **十进制形式**

我们平时常见的整数就是十进制形式，它由 0~9 共十个数字排列组合而成。

注意，使用十进制形式的整数不能以 0 作为开头，除非这个数值本身就是 0。

2) **二进制形式**

由 0 和 1 两个数字组成，书写时以`0b`或`0B`开头。例如，101 对应十进制数是 5。

3) **八进制形式**

八进制整数由 0~7 共八个数字组成，以`0o`或`0O`开头。注意，第一个符号是数字 0，第二个符号是大写或小写的字母 O。

在 Python 2.x 中，八进制数字还可以直接以`0`（数字零）开头。

4) **十六进制形式**

由 0~9 十个数字以及 A~F（或 a~f）六个字母组成，书写时以`0x`或`0X`开头，

有关不同进制以及它们之间的转换方法：

- [进制详解：二进制、八进制和十六进制](http://c.biancheng.net/view/1724.html)
- [进制转换：二进制、八进制、十六进制、十进制之间的转换](http://c.biancheng.net/view/1725.html)

例子：不同进制整数在 Python 中的使用

```python
#十六进制
hex1 = 0x45
hex2 = 0x4Af
print("hex1Value: ", hex1)
print("hex2Value: ", hex2)
#二进制
bin1 = 0b101
print('bin1Value: ', bin1)
bin2 = 0B110
print('bin2Value: ', bin2)
#八进制
oct1 = 0o26
print('oct1Value: ', oct1)
oct2 = 0O41
print('oct2Value: ', oct2)
```

运行结果：

```
hex1Value:  69
hex2Value:  1199
bin1Value:  5
bin2Value:  6
oct1Value:  22
oct2Value:  33
```

**注意：本例的输出结果都是十进制整数。**

##### （2）数字分隔符

为了提高数字的的可读性，Python 3.x 允许使用下划线`_`作为数字（包括整数和小数）的分隔符。通常每隔三个数字添加一个下划线，类似于英文数字中的逗号。下划线不会影响数字本身的值。

例子：使用下划线书写数字

```py
click = 1_301_547
distance = 384_000_000
print("Python教程阅读量：", click)
print("地球和月球的距离：", distance)
```

运行结果：

```
Python教程阅读量：1301547
地球和月球的距离：384000000
```

#### 二.小数/浮点数类型（float)

在编程语言中，小数通常以浮点数的形式存储。浮点数和定点数是相对的：小数在存储过程中如果小数点发生移动，就称为浮点数；如果小数点不动，就称为定点数。

> [Python](http://c.biancheng.net/python/) 中的小数有两种书写形式：
>
> #### 1) 十进制形式
>
> 这种就是我们平时看到的小数形式，例如 34.6、346.0、0.346。
>
> 书写小数时必须包含一个小数点，否则会被 Python 当作整数处理。
>
> #### 2) 指数形式
>
> Python 小数的指数形式的写法为：
>
> ```py
> aEn 或 aen
> ```
>
> 注释：a 为尾数部分，是一个十进制数；n 为指数部分，是一个十进制整数；`E`或`e`是固定的字符，用于分割尾数部分和指数部分。整个表达式等价于 a×10n。

**指数形式的小数举例：**

- **2.1E5 = 2.1×105，其中 2.1 是尾数，5 是指数。**
- **3.7E-2 = 3.7×10-2，其中 3.7 是尾数，-2 是指数。**
- **0.5E7 = 0.5×107，其中 0.5 是尾数，7 是指数。**

注意:只要写成指数形式就是小数，即使它的最终值看起来像一个整数。例如 14E3 等价于 14000，但 14E3 是一个小数。

**Python 只有一种小数类型，就是 float。**

例子：小数在 Python 中的使用

```py
f1 = 12.5
print("f1Value: ", f1)
print("f1Type: ", type(f1))
f2 = 0.34557808421257003
print("f2Value: ", f2)
print("f2Type: ", type(f2))
f3 = 0.0000000000000000000000000847
print("f3Value: ", f3)
print("f3Type: ", type(f3))
f4 = 345679745132456787324523453.45006
print("f4Value: ", f4)
print("f4Type: ", type(f4))
f5 = 12e4
print("f5Value: ", f5)
print("f5Type: ", type(f5))
f6 = 12.3 * 0.1
print("f6Value: ", f6)
print("f6Type: ", type(f6))
```

运行结果：

```
f1Value:  12.5
f1Type:  <class 'float'>
f2Value:  0.34557808421257
f2Type:  <class 'float'>
f3Value:  8.47e-26
f3Type:  <class 'float'>
f4Value:  3.456797451324568e+26
f4Type:  <class 'float'>
f5Value:  120000.0
f5Type:  <class 'float'>
f6Value:  1.2300000000000002
f6Type:  <class 'float'>
```

从运行结果可以看出，Python 能容纳极小和极大的浮点数。print 在输出浮点数时，会根据浮点数的长度和大小适当的舍去一部分数字，或者采用科学计数法。

f5 的值是 120000，但是它依然是小数类型，而不是整数类型。

让人奇怪的是 f6，`12.3*0.1`的计算结果很明显是 1.23，但是 print 的输出却不精确。这是因为小数在内存中是以二进制形式存储的，小数点后面的部分在转换成二进制时很有可能是一串无限循环的数字，无论如何都不能精确表示，所以小数的计算结果一般都是不精确的。

#### 三.复数类型（complex）

复数（Complex）是 [Python](http://c.biancheng.net/python/) 的内置类型，直接书写即可。换句话说，Python 语言本身就支持复数，而不依赖于标准库或者第三方库。

复数由实部（real）和虚部（imag）构成，在 Python 中，复数的虚部以`j`或者`J`作为后缀，具体格式为：

```py
a + bj
```

注意：a 表示实部，b 表示虚部。

例子：Python 复数的使用

```python
c1 = 12 + 0.2j
print("c1Value: ", c1)
print("c1Type", type(c1))
c2 = 6 - 1.2j
print("c2Value: ", c2)
#对复数进行简单计算
print("c1+c2: ", c1+c2)
print("c1*c2: ", c1*c2)
```

运行结果：

```
c1Value:  (12+0.2j)
c1Type <class 'complex'>
c2Value:  (6-1.2j)
c1+c2:  (18-1j)
c1*c2:  (72.24-13.2j)
```

可以发现，复数在 Python 内部的类型是 complex，Python 默认支持对复数的简单计算。

### 2.3Python 字符串详解

若干个字符的集合就是一个字符串（String）。[Python](http://c.biancheng.net/python/) 中的字符串必须由双引号`" "`或者单引号`' '`包围，具体格式为：

```python
"字符串内容"
'字符串内容'
```

> 下面都是合法的字符串：
>
> - "123789"
> - "123abc"
> - "http://c.biancheng.net/python/"
> - "C语言中文网成立8年了"

**Python 字符串中的双引号和单引号没有任何区别。**

#### 一.处理字符串中的引号

当字符串内容中出现引号时，我们需要进行特殊处理，否则 Python 会解析出错，例如：

```py
'I'm a great coder!'
```

由于上面字符串中包含了单引号，此时 Python 会将字符串中的单引号与第一个单引号配对，这样就会把`'I'`当成字符串，而后面的`m a great coder!'`就变成了多余的内容，从而导致语法错误。

对于这种情况，我们有两种处理方案：

(1)处理方案一：对引号进行转义

在引号前面添加反斜杠`\`就可以对引号进行转义，让 Python 把它作为普通文本对待，例如

```python
str1 = 'I\'m a great coder!'
str2 = "引文双引号是\"，中文双引号是“"
print(str1)
print(str2)
```

运行结果：

```
I'm a great coder!
引文双引号是"，中文双引号是“
```

（2）处理方案二：使用不同的引号包围字符串

如果字符串内容中出现了单引号，那么我们可以使用双引号包围字符串，反之亦然。例如：

```python
str1 = "I'm a great coder!"  #使用双引号包围含有单引号的字符串
str2 = '引文双引号是"，中文双引号是“'  #使用单引号包围含有双引号的字符串
print(str1)
print(str2)
```

#### 二.字符串的换行

Python 不是格式自由的语言，它对程序的换行、缩进都有严格的语法要求。要想换行书写一个比较长的字符串，必须在行尾添加反斜杠`\`，请看下面的例子：

```PY
s2 = 'It took me six months to write this Python tutorial. \
    Please give me more support. \
    I will keep it updated.'
```

上面 s2 字符串的比较长，所以使用了转义字符`\`对字符串内容进行了换行，这样就可以把一个长字符串写成多行。

另外，Python 也支持表达式的换行，例如：

```PY
num = 20 + 3 / 4 + \
    2 * 3
print(num)
```

#### 三.长字符串

在《[Python注释](http://c.biancheng.net/view/2170.html)》一节中我们提到，使用三个单引号或者双引号可以对多行内容进行注释，这其实是 Python 长字符串的写法。所谓长字符串，就是可以直接换行（不用加反斜杠`\`）书写的字符串。

Python 长字符串由三个双引号`"""`或者三个单引号`'''`包围，语法格式如下：

```py
"""长字符串内容"""
'''长字符串内容'''
```

在长字符串中放置单引号或者双引号不会导致解析错误。

如果长字符串没有赋值给任何变量，那么这个长字符串就不会起到任何作用，和一段普通的文本无异，相当于被注释掉了。

> 注意:此时 Python 解释器并不会忽略长字符串，也会按照语法解析，只是长字符串起不到实际作用而已。

当程序中有大段文本内容需要定义成字符串时，优先推荐使用长字符串形式，因为这种形式非常强大，可以在字符串中放置任何内容，包括单引号和双引号。

例子：将长字符串赋值给变量

```py
longstr = '''It took me 6 months to write this Python tutorial.
Please give me a to 'thumb' to keep it updated.
The Python tutorial is available at http://c.biancheng.net/python/.'''
print(longstr)
```

长字符串中的换行、空格、缩进等空白符都会原样输出，所以你不能写成下面的样子：

```python
longstr = '''
    It took me 6 months to write this Python tutorial.
    Please give me a to 'thumb' to keep it updated.
    The Python tutorial is available at http://c.biancheng.net/python/.
'''
print(longstr)#注意此为错误写法
```

错误的输出结果：

```
  It took me 6 months to write this Python tutorial.
    Please give me a to 'thumb' to keep it updated.
    The Python tutorial is available at http://c.biancheng.net/python/.
```

字符串内容前后多出了两个空行，并且每一行的前面会多出四个空格。

#### 四.原始字符串

Python 字符串中的反斜杠`\`有着特殊的作用，就是转义字符，例如上面提到的`\'`和`\"`，我们将在《[Python转义字符](http://c.biancheng.net/view/2176.html)》一节中详细讲解，这里大家先简单了解。

转义字符有时候会带来一些麻烦，例如我要表示一个包含 Windows 路径`D:\Program Files\Python 3.8\python.exe`这样的字符串，在 Python 程序中直接这样写肯定是不行的，不管是普通字符串还是长字符串。因为`\`的特殊性，我们需要对字符串中的每个`\`都进行转义，也就是写成`D:\\Program Files\\Python 3.8\\python.exe`这种形式才行。

这种写法需要特别谨慎，稍有疏忽就会出错。为了解决转义字符的问题，Python 支持原始字符串。在原始字符串中，`\`不会被当作转义字符，所有的内容都保持“原汁原味”的样子。

在普通字符串或者长字符串的开头加上`r`前缀，就变成了原始字符串，具体格式为：

```py
str1 = r'原始字符串内容'
str2 = r"""原始字符串内容"""
```

将上面的 Windows 路径改写成原始字符串的形式：

```py
rstr = r'D:\Program Files\Python 3.8\python.exe'
print(rstr)
```

> 原始字符串中的引号:如果普通格式的原始字符串中出现引号，程序同样需要对引号进行转义，否则 Python 照样无法对字符串的引号精确配对；但是和普通字符串不同的是，此时用于转义的反斜杠会变成字符串内容的一部分。

请看下面的代码:

```py
str1 = r'I\'m a great coder!'
print(str1)
```

输出结果：

```
I\'m a great coder!
```

需要注意的是，Python 原始字符串中的反斜杠仍然会对引号进行转义，因此原始字符串的结尾处不能是反斜杠，否则字符串结尾处的引号会被转义，导致字符串不能正确结束。

在 Python 中有两种方式解决这个问题：一种方式是改用长字符串的写法，不要使用原始字符串；另一种方式是单独书写反斜杠，这是接下来要重点说明的。

> 例如想表示`D:\Program Files\Python 3.8\`，可以这样写：
>
> ```py
> str1 = r'D:\Program Files\Python 3.8' '\\'
> print(str1)
> ```
>
> 我们先写了一个原始字符串`r'D:\Program Files\Python 3.8'`，紧接着又使用`'\\'`写了一个包含转义字符的普通字符串，Python 会自动将这两个字符串拼接在一起，所以上面代码的输出结果是：
>
> ```
> D:\Program Files\Python 3.8\
> ```

### 2.4Python Bytes类型及用法

> [Python](http://c.biancheng.net/python/) bytes 类型用来表示一个字节串。“字节串“不是编程术语，是我自己“捏造”的一个词，用来和字符串相呼应。

字节串（bytes）和字符串（string）的对比：

- 字符串由若干个字符组成，以字符为单位进行操作；字节串由若干个字节组成，以字节为单位进行操作。
- 字节串和字符串除了操作的数据单元不同之外，它们支持的所有方法都基本相同。
- 字节串和字符串都是不可变序列，不能随意增加和删除数据。

bytes 只负责以字节序列的形式（二进制形式）来存储数据，至于这些数据到底表示什么内容（字符串、数字、图片、音频等），完全由程序的解析方式决定。如果采用合适的字符编码方式（字符集），字节串可以恢复成字符串；反之亦然，字符串也可以转换成字节串。

说白了，bytes 只是简单地记录内存中的原始数据，至于如何使用这些数据，bytes 并不在意，你想怎么使用就怎么使用，bytes 并不约束你的行为。

bytes 类型的数据非常适合在互联网上传输，可以用于网络通信编程；bytes 也可以用来存储图片、音频、视频等二进制格式的文件。

> 字符串和 bytes 存在着千丝万缕的联系，我们可以通过字符串来创建 bytes 对象，或者说将字符串转换成 bytes 对象。有以下三种方法可以达到这个目的：
>
> - **如果字符串的内容都是 ASCII 字符，那么直接在字符串前面添加`b`前缀就可以转换成 bytes。**
> - **bytes 是一个类，调用它的构造方法，也就是 bytes()，可以将字符串按照指定的字符集转换成 bytes；如果不指定字符集，那么默认采用 UTF-8。**
> - **字符串本身有一个 encode() 方法，该方法专门用来将字符串按照指定的字符集转换成对应的字节串；如果不指定字符集，那么默认采用 UTF-8。**

例子：使用不同方式创建 bytes 对象

```py
#通过构造函数创建空 bytes
b1 = bytes()
#通过空字符串创建空 bytes
b2 = b''
#通过b前缀将字符串转换成 bytes
b3 = b'http://c.biancheng.net/python/'
print("b3: ", b3)
print(b3[3])
print(b3[7:22])
#为 bytes() 方法指定字符集
b4 = bytes('C语言中文网8岁了', encoding='UTF-8')
print("b4: ", b4)
#通过 encode() 方法将字符串转换成 bytes
b5 = "C语言中文网8岁了".encode('UTF-8')
print("b5: ", b5)
```

运行结果：

```
b3:  b'http://c.biancheng.net/python/'
112
b'c.biancheng.net'
b4:  b'C\xe8\xaf\xad\xe8\xa8\x80\xe4\xb8\xad\xe6\x96\x87\xe7\xbd\x918\xe5\xb2\x81\xe4\xba\x86'
b5:  b'C\xe8\xaf\xad\xe8\xa8\x80\xe4\xb8\xad\xe6\x96\x87\xe7\xbd\x918\xe5\xb2\x81\xe4\xba\x86'
```

注释：从运行结果可以发现，对于非 ASCII 字符，print 输出的是它的字符编码值（十六进制形式），而不是字符本身。非 ASCII 字符一般占用两个字节以上的内存，而 bytes 是按照单个字节来处理数据的，所以不能一次处理多个字节。

有关字符集（字符编码）：

- [ASCII编码，将英文存储到计算机](http://c.biancheng.net/view/1728.html)
- [GB2312编码和GBK编码，将中文存储到计算机](http://c.biancheng.net/view/vip_1729.html)
- [Unicode字符集，将全世界的文字存储到计算机](http://c.biancheng.net/view/vip_1730.html)

bytes 类也有一个 decode() 方法，通过该方法可以将 bytes 对象转换为字符串。紧接上面的程序，添加以下代码：

```python
#通过 decode() 方法将 bytes 转换成字符串
str1 = b5.decode('UTF-8')
print("str1: ", str1)
```

输出结果：

```
str1:  C语言中文网8岁了
```

### 2.5Python 布尔类型（Bool）

> [Python](http://c.biancheng.net/python/) 提供了 bool 类型来表示真（对）或假（错），比如常见的`5 > 3`比较算式，这个是正确的，在程序世界里称之为真（对），Python 使用 True 来代表；再比如`4 > 20`比较算式，这个是错误的，在程序世界里称之为假（错），Python 使用 False 来代表。
>
> ```
> True 和 False 是 Python 中的关键字，当作为 Python 代码输入时，一定要注意字母的大小写，否则解释器会报错。
> ```

布尔类型可以当做整数来对待，即 True 相当于整数值 1，False 相当于整数值 0。因此，下边这些运算都是可以的：

```
>>> False+1
1
>>> True+1
2
```

注意:这里只是为了说明 True 和 False 对应的整型值，在实际应用中是不妥的，不要这么用。总的来说，bool 类型就是用于代表某个事情的真（对）或假（错），如果这个事情是正确的，用 True（或 1）代表；如果这个事情是错误的，用 False（或 0）代表。

例子：

```
>>> 5>3
True
>>> 4>20
False
```

在 Python 中，所有的对象都可以进行真假值的测试，包括字符串、元组、列表、字典、对象等。

### SP：类型转换

虽然 [Python](http://c.biancheng.net/python/) 是弱类型编程语言，不需要像 [Java](http://c.biancheng.net/java/) 或 C 语言那样还要在使用变量前声明变量的类型，但在一些特定场景中，仍然需要用到类型转换。

比如说，我们想通过使用 print() 函数输出信息“您的身高：”以及浮点类型 height 的值，如果在交互式解释器中执行如下代码：

```python
>>> height = 70.0
>>> print("您的身高"+height)
Traceback (most recent call last):
  File "<pyshell#1>", line 1, in <module>
    print("您的身高"+height)
TypeError: must be str, not float
```

你会发现这是错误的，解释器提示我们字符串和浮点类型变量不能直接相连，需要提前将浮点类型变量 height 转换为字符串才可以。

Python 已经为我们提供了多种可实现数据类型转换的函数，如下表所示。

| 常用数据类型转换函数 |
| :------------------: |

| 函 数                  | 作 用                                              |
| ---------------------- | -------------------------------------------------- |
| int(x)                 | 将 x 转换成整数类型                                |
| float(x)               | 将 x 转换成浮点数类型                              |
| complex(real，[,imag]) | 创建一个复数                                       |
| str(x)                 | 将 x 转换为字符串                                  |
| repr(x)                | 将 x 转换为表达式字符串                            |
| eval(str)              | 计算在字符串中的有效 Python 表达式，并返回一个对象 |
| chr(x)                 | 将整数 x 转换为一个字符                            |
| ord(x)                 | 将一个字符 x 转换为它对应的整数值                  |
| hex(x)                 | 将一个整数 x 转换为一个十六进制字符串              |
| oct(x)                 | 将一个整数 x 转换为一个八进制的字符串              |

> 注意：在使用类型转换函数时，提供给它的数据必须是有意义的。
>

例如，int() 函数无法将一个非数字字符串转换成整数：

```python
>>> int("123") #转换成功
123
>>> int("123个") #转换失败
Traceback (most recent call last):
  File "<pyshell#3>", line 1, in <module>
    int("123个")
ValueError: invalid literal for int() with base 10: '123个'
>>>
```



## 3.基本函数

### 3.1 input()函数

input() 是 [Python](http://c.biancheng.net/python/) 的内置函数，用于从控制台读取用户输入的内容。input() 函数总是以字符串的形式来处理用户输入的内容，所以用户输入的内容可以包含任何字符。

input() 函数的用法为：

```python
str = input(tipmsg)
```

> **说明：**
>
> - **str 表示一个字符串类型的变量，input 会将读取到的字符串放入 str 中。**
> - **tipmsg 表示提示信息，它会显示在控制台上，告诉用户应该输入什么样的内容；如果不写 tipmsg，就不会有任何提示信息。**

例子:input() 函数的简单使用

```PY
a = input("Enter a number: ")
b = input("Enter another number: ")
print("aType: ", type(a))
print("bType: ", type(b))
result = a + b
print("resultValue: ", result)
print("resultType: ", type(result))
```

运行结果示例：

```
Enter a number: 100↙
Enter another number: 45↙
aType:  <class 'str'>
bType:  <class 'str'>
resultValue:  10045
resultType:  <class 'str'>
```

`↙`表示按下回车键，按下回车键后 input() 读取就结束了。

本例中我们输入了两个整数，希望计算出它们的和，但是事与愿违，Python 只是它们当成了字符串，`+`起到了拼接字符串的作用，而不是求和的作用。

> 我们可以使用 Python 内置函数将字符串转换成想要的类型，比如：
>
> - int(string) 将字符串转换成 int 类型；
> - float(string) 将字符串转换成 float 类型；
> - bool(string) 将字符串转换成 bool 类型。

修改后的代码，将用户输入的内容转换成数字：

```python
a = input("Enter a number: ")
b = input("Enter another number: ")
a = float(a)
b = int(b)
print("aType: ", type(a))
print("bType: ", type(b))
result = a + b
print("resultValue: ", result)
print("resultType: ", type(result))
```

运行结果：

```
Enter a number: 12.5↙
Enter another number: 64↙
aType:  <class 'float'>
bType:  <class 'int'>
resultValue:  76.5
resultType:  <class 'float'>
```

### 3.2 print()函数

前面使用 print() 函数时，都只输出了一个变量，但实际上 print() 函数完全可以同时输出多个变量，而且它具有更多丰富的功能。

print() 函数的详细语法格式如下：

```py
print (value,...,sep='',end='\n',file=sys.stdout,flush=False)
```

从上面的语法格式可以看出，value 参数可以接受任意多个变量或值，因此 print() 函数完全可以输出多个值。例如如下代码：

从上面的语法格式可以看出，value 参数可以接受任意多个变量或值，因此 print() 函数完全可以输出多个值。例如如下代码：

```py
user_name ＝ 'Charlie'
user_age = 8
#同时输出多个变量和字符串
print("读者名：",user_name,"年龄：",user_age)
运行上面代码，可以看到如下输出结果：
```

运行上面代码，可以看到如下输出结果：

```
读者名： Charlie 年龄： 8
```

从输出结果来看，使用 print() 函数输出多个变量时，print() 函数默认以空格隔开多个变量，如果读者希望改变默认的分隔符，可通过 sep 参数进行设置。例如输出语句：

```py
#同时输出多个变量和字符串，指定分隔符
print("读者名：" ,user_name,"年龄：",user_age,sep='|')
```

运行上面代码，可以看到如下输出结果：

```
读者名：|Charlie|年龄：|8
```

在默认情况下，print() 函数输出之后总会换行，这是因为 print() 函数的 end 参数的默认值是“\n”，这个“\n”就代表了换行。如果希望 print() 函数输出之后不会换行，则重设 end 参数即可，例如如下代码：

```py
#设置end 参数，指定输出之后不再换行
print(40,'\t',end＝"")
print(50,'\t',end＝"")
print(60,'\t',end＝"")
```

上面三条 print() 语句会执行三次输出，但由于它们都指定了 end＝""，因此每条 print() 语句的输出都不会换行，依然位于同一行。运行上面代码，可以看到如下输出结果：

```
40    50    60
```

file 参数指定 print() 函数的输出目标，file 参数的默认值为 sys.stdout，该默认值代表了系统标准输出，也就是屏幕，因此 print() 函数默认输出到屏幕。实际上，完全可以通过改变该参数让 print() 函数输出到特定文件中，例如如下代码：

```py
f = open("demo.txt","w")#打开文件以便写入
print('沧海月明珠有泪',file=f)
print('蓝田日暖玉生烟',file=f)
f.close()
```

上面程序中，open() 函数用于打开 demo.txt 文件，接连 2 个 print 函数会将这 2 段字符串依次写入此文件，最后调用 close() 函数关闭文件，教程后续章节还会详细介绍关于文件操作的内容。

print() 函数的 flush 参数用于控制输出缓存，该参数一般保持为 False 即可，这样可以获得较好的性能。

#### 一.格式化输出

print() 函数使用以`%`开头的转换说明符对各种类型的数据进行格式化输出，具体请看下表。

| Python 转换说明符 |
| ----------------- |

| 转换说明符 | 解释                                   |
| ---------- | -------------------------------------- |
| %d、%i     | 转换为带符号的十进制整数               |
| %o         | 转换为带符号的八进制整数               |
| %x、%X     | 转换为带符号的十六进制整数             |
| %e         | 转化为科学计数法表示的浮点数（e 小写） |
| %E         | 转化为科学计数法表示的浮点数（E 大写） |
| %f、%F     | 转化为十进制浮点数                     |
| %g         | 智能选择使用 %f 或 %e 格式             |
| %G         | 智能选择使用 %F 或 %E 格式             |
| %c         | 格式化字符及其 ASCII 码                |
| %r         | 使用 repr() 函数将表达式转换为字符串   |
| %s         | 使用 str() 函数将表达式转换为字符串    |

> 转换说明符（Conversion Specifier）只是一个占位符，它会被后面表达式（变量、常量、数字、字符串、加减乘除等各种形式）的值代替。

例子：输出一个整数

```python
age = 8
print("C语言中文网已经%d岁了！" % age)
```

运行结果：

```
C语言中文网已经8岁了！
```

在 print() 函数中，由引号包围的是格式化字符串，它相当于一个字符串模板，可以放置一些转换说明符（占位符）。本例的格式化字符串中包含一个`%d`说明符，它最终会被后面的 age 变量的值所替代。

中间的`%`是一个分隔符，它前面是格式化字符串，后面是要输出的表达式。

当然，格式化字符串中也可以包含多个转换说明符，这个时候也得提供多个表达式，用以替换对应的转换说明符；多个表达式必须使用小括号`( )`包围起来。请看下面的例子：

```python
name = "C语言中文网"
age = 8
url = "http://c.biancheng.net/"
print("%s已经%d岁了，它的网址是%s。" % (name, age, url))
```

运行结果：

```
C语言中文网已经8岁了，它的网址是http://c.biancheng.net/。
```

> 总之，有几个占位符，后面就得跟着几个表达式。

##### （1）指定最小输出宽度

> 当使用表1中的转换说明符时，可以使用下面的格式指定最小输出宽度（至少占用多少个字符的位置）：
>
> - %10d 表示输出的整数宽度至少为 10；
> - %20s 表示输出的字符串宽度至少为 20。

如下：

```python
n = 1234567
print("n(10):%10d." % n)
print("n(5):%5d." % n)
url = "http://c.biancheng.net/python/"
print("url(35):%35s." % url)
print("url(20):%20s." % url)
```

运行结果：

```
n(10):   1234567.
n(5):1234567.
url(35):     http://c.biancheng.net/python/.
url(20):http://c.biancheng.net/python/.
```

从运行结果可以发现，对于整数和字符串，当数据的实际宽度小于指定宽度时，会在左侧以空格补齐；当数据的实际宽度大于指定宽度时，会按照数据的实际宽度输出。

你看，这里指定的只是最小宽度，当数据的实际宽度足够时，指定的宽度就没有实际意义了。

##### （2）指定对齐方式

默认情况下，print() 输出的数据总是右对齐的。也就是说，当数据不够宽时，数据总是靠右边输出，而在左边补充空格以达到指定的宽度。Python 允许在最小宽度之前增加一个标志来改变对齐方式，Python 支持的标志如下：

| Python 支持的标志 |
| ----------------- |

| 标志 | 说明                                          |
| ---- | --------------------------------------------- |
| -    | 指定左对齐                                    |
| +    | 表示输出的数字总要带着符号；正数带+，负数带\- |
| 0    | 表示宽度不足时补充 0，而不是补充空格          |

> **几点说明：**
>
> - **对于整数，指定左对齐时，在右边补 0 是没有效果的，因为这样会改变整数的值。**
> - **对于小数，以上三个标志可以同时存在。**
> - **对于字符串，只能使用`-`标志，因为符号对于字符串没有意义，而补 0 会改变字符串的值。**

如下：

```py
n = 123456
# %09d 表示最小宽度为9，左边补0
print("n(09):%09d" % n)
# %+9d 表示最小宽度为9，带上符号
print("n(+9):%+9d" % n)
f = 140.5
# %-+010f 表示最小宽度为10，左对齐，带上符号
print("f(-+0):%-+010f" % f)
s = "Hello"
# %-10s 表示最小宽度为10，左对齐
print("s(-10):%-10s." % s)
```

运行结果：

```
n(09):000123456
n(+9):  +123456
f(-+0):+140.500000
s(-10):Hello     .
```

##### （3）指定小数精度

对于小数（浮点数），print() 还允许指定小数点后的数字位数，也即指定小数的输出精度。

精度值需要放在最小宽度之后，中间用点号`.`隔开；也可以不写最小宽度，只写精度。具体格式如下：

```python
%m.nf
%.nf
```

> m 表示最小宽度，n 表示输出精度，`.`是必须存在的。

如下：

```python
f = 3.141592653
# 最小宽度为8，小数点后保留3位
print("%8.3f" % f)
# 最小宽度为8，小数点后保留3位，左边补0
print("%08.3f" % f)
# 最小宽度为8，小数点后保留3位，左边补0，带符号
print("%+08.3f" % f)
```

运行结果：

```
   3.142
0003.142
+003.142
```

#### 二.转义字符及用法

> ASCII 编码为每个字符都分配了唯一的编号，称为编码值。在 [Python](http://c.biancheng.net/python/) 中，一个 ASCII 字符除了可以用它的实体（也就是真正的字符）表示，还可以用它的编码值表示。这种使用编码值来间接地表示字符的方式称为转义字符（Escape Character）。

转义字符以`\0`或者`\x`开头，以`\0`开头表示后跟八进制形式的编码值，以`\x`开头表示后跟十六进制形式的编码值，Python 中的转义字符只能使用八进制或者十六进制。具体格式如下：

```python
\0dd
\xhh
```

dd 表示八进制数字，hh 表示十六进制数字。

ASCII 编码共收录了 128 个字符，`\0`和`\x`后面最多只能跟两位数字，所以八进制形式`\0`并不能表示所有的 ASCII 字符，只有十六进制形式`\x`才能表示所有 ASCII 字符。

我们一直在说 ASCII 编码，没有提及 Unicode、GBK、Big5 等其它编码（字符集），是因为 Python 转义字符只对 ASCII 编码（128 个字符）有效，超出范围的行为是不确定的。

字符 1、2、3、x、y、z 对应的 ASCII 码的八进制形式分别是 61、62、63、170、171、172，十六进制形式分别是 31、32、33、78、79、7A。下面的例子演示了转义字符的用法：

```python
str1 = "Oct: \061\062\063"
str2 = "Hex: \x31\x32\x33\x78\x79\x7A"
print(str1)
print(str2)
```

运行结果：

```
Oct: 123
Hex: 123xyz
```

注意，使用八进制形式的转义字符没法表示 xyz，因为它们的编码值转换成八进制以后有三位。

对于 ASCII 编码，0~31（十进制）范围内的字符为控制字符，它们都是看不见的，不能在显示器上显示，甚至无法从键盘输入，只能用转义字符的形式来表示。不过，直接使用 ASCII 码记忆不方便，也不容易理解，所以，针对常用的控制字符，C语言又定义了简写方式，完整的列表如下。

| Python 支持的转义字符 |
| :-------------------: |

| 转义字符 |                             说明                             |
| -------- | :----------------------------------------------------------: |
| \n       |              换行符，将光标位置移到下一行开头。              |
| \r       |               回车符，将光标位置移到本行开头。               |
| \t       |        水平制表符，也即 Tab 键，一般相当于四个空格。         |
| \a       | 蜂鸣器响铃。注意不是喇叭发声，现在的计算机很多都不带蜂鸣器了，所以响铃不一定有效。 |
| \b       |          退格（Backspace），将光标位置移到前一列。           |
| \\       |                            反斜线                            |
| \'       |                            单引号                            |
| \"       |                            双引号                            |
| \        |     在字符串行尾的续行符，即一行未完，转到下一行继续写。     |

> 转义字符在书写形式上由多个字符组成，但 Python 将它们看作是一个整体，表示一个字符。

Python 转义字符综合示例：

```python
#使用\t排版
str1 = '网站\t\t域名\t\t\t年龄\t\t价值'
str2 = 'C语言中文网\tc.biancheng.net\t\t8\t\t500W'
str3 = '百度\t\twww.baidu.com\t\t20\t\t500000W'
print(str1)
print(str2)
print(str3)
print("--------------------")
# \n在输出时换行，\在书写字符串时换行
info = "Python教程：http://c.biancheng.net/python/\n\
C++教程：http://c.biancheng.net/cplus/\n\
Linux教程：http://c.biancheng.net/linux_tutorial/"
print(info)
```

运行结果：

```
网站        域名                年龄    价值
C语言中文网 c.biancheng.net     8       500W
百度        www.baidu.com       20      500000W
--------------------
Python教程：http://c.biancheng.net/python/
C++教程：http://c.biancheng.net/cplus/
Linux教程：http://c.biancheng.net/linux_tutorial/
```



## 4.Python 运算符

### 4.1算数运算符

算术运算符也即数学运算符，用来对数字进行数学运算，比如加减乘除。下表列出了 [Python](http://c.biancheng.net/python/) 支持所有基本算术运算符。



| Python 常用算术运算符 |
| :-------------------: |

| 运算符 | 说明                                | 实例        | 结果      |
| ------ | ----------------------------------- | ----------- | --------- |
| +      | 加                                  | 12.45 + 15  | 27.45     |
| -      | 减                                  | 4.56 - 0.26 | 4.3       |
| *      | 乘                                  | 5 * 3.6     | 18.0      |
| /      | 除法（和数学中的规则一样）          | 7 / 2       | 3.5       |
| //     | 整除（只保留商的整数部分）          | 7 // 2      | 3         |
| %      | 取余，即返回除法的余数              | 7 % 2       | 1         |
| **     | 幂运算/次方运算，即返回 x 的 y 次方 | 2 ** 4      | 16，即 24 |

#### 一.+ 加法运算符

加法运算符很简单，和数学中的规则一样，请看下面的代码：

```py
m = 10
n = 97
sum1 = m + n
x = 7.2
y = 15.3
sum2 = x + y
print("sum1=%d, sum2=%.2f" % (sum1, sum2) )
```

运行结果：

```
sum1=107, sum2=22.50
```

> **拼接字符串的作用**
>
> 当`+`用于数字时表示加法，但是当`+`用于字符串时，它还有拼接字符串（将两个字符串连接为一个）的作用

作用代码演示：

```py
name = "C语言中文网"
url = "http://c.biancheng.net/"
age = 8
info = name + "的网址是" + url + "，它已经" + str(age) + "岁了。"
print(info)
```

运行结果：

```
C语言中文网的网址是http://c.biancheng.net/，它已经8岁了。
```

注释：str() 函数用来将整数类型的 age 转换成字符串。

#### 二.- 减法运算符

减法运算也和数学中的规则相同，请看代码：

```py
n = 45
m = -n
x = -83.5
y = -x
print(m, ",", y)
```

运行结果：

```
-45 , 83.5
```

> **求负的作用**
>
> 除了可以用作减法运算之外，还可以用作求负运算（正数变负数，负数变正数），

请看下面的代码：

```py
n = 45
n_neg = -n
f = -83.5
f_neg = -f
print(n_neg, ",", f_neg)
```

运行结果：

```
-45 , 83.5
```

> **注意：单独使用`+`是无效的，不会改变数字的值，**
>
> 例如：
>
> ```python
> n = 45
> m = +n
> x = -83.5
> y = +x
> print(m, ",", y)
> ```
>
> 运行结果：
>
> ```
> 45 , -83.5
> ```

#### 三.＊乘法运算符

乘法运算也和数学中的规则相同，请看代码：

```py
n = 4 * 25
f = 34.5 * 2
print(n, ",", f)
```

运行结果：

```
100 , 69.0
```

> **重复字符串的作用**
>
> `*`除了可以用作乘法运算，还可以用来重复字符串，也即将 n 个同样的字符串连接起来。

请看代码：

```py
str1 = "hello "
print(str1 * 4)
```

运行结果：

```
hello hello hello hello 
```

#### 四./ 和 // 除法运算符

> Python 支持`/`和`//`两个除法运算符，但它们之间是有区别的：
>
> - `/`表示普通除法，使用它计算出来的结果和数学中的计算结果相同。
> - `//`表示整除，只保留结果的整数部分，舍弃小数部分；注意是直接丢掉小数部分，而不是四舍五入。

请看下面的例子：

```py
#整数不能除尽
print("23/5 =", 23/5)
print("23//5 =", 23//5)
print("23.0//5 =", 23.0//5)
print("-------------------")
#整数能除尽
print("25/5 =", 25/5)
print("25//5 =", 25//5)
print("25.0//5 =", 25.0//5)
print("-------------------")
#小数除法
print("12.4/3.5 =", 12.4/3.5)
print("12.4//3.5 =", 12.4//3.5)
```

运行结果：

```
23/5 = 4.6
23//5 = 4
23.0//5 = 4.0
-------------------
25/5 = 5.0
25//5 = 5
25.0//5 = 5.0
-------------------
12.4/3.5 = 3.542857142857143
12.4//3.5 = 3.0
```

从运行结果可以发现：

- `/`的计算结果总是小数，不管是否能除尽，也不管参与运算的是整数还是小数。
- 当有小数参与运算时，`//`结果才是小数，否则就是整数。

> 需要注意的是，除数始终不能为 0，除以 0 是没有意义的，这将导致 ZeroDivisionError 错误。在某些编程语言中，除以 0 的结果是无穷大（包括正无穷大和负无穷大）。

#### 五.% 求余运算符

> Python % 运算符用来求得两个数相除的余数，包括整数和小数。Python 使用第一个数字除以第二个数字，得到一个整数的商，剩下的值就是余数。对于小数，求余的结果一般也是小数。
>
> 注意:求余运算的本质是除法运算，所以第二个数字也不能是 0，否则会导致 ZeroDivisionError 错误。

Python % 使用示例：

```py
print("-----整数求余-----")
print("15%6 =", 15%6)
print("-15%6 =", -15%6)
print("15%-6 =", 15%-6)
print("-15%-6 =", -15%-6)
print("-----小数求余-----")
print("7.7%2.2 =", 7.7%2.2)
print("-7.7%2.2 =", -7.7%2.2)
print("7.7%-2.2 =", 7.7%-2.2)
print("-7.7%-2.2 =", -7.7%-2.2)
print("---整数和小数运算---")
print("23.5%6 =", 23.5%6)
print("23%6.5 =", 23%6.5)
print("23.5%-6 =", 23.5%-6)
print("-23%6.5 =", -23%6.5)
print("-23%-6.5 =", -23%-6.5)
```

运行结果：

```
-----整数求余-----
15%6 = 3
-15%6 = 3
15%-6 = -3
-15%-6 = -3
-----小数求余-----
7.7%2.2 = 1.0999999999999996
-7.7%2.2 = 1.1000000000000005
7.7%-2.2 = -1.1000000000000005
-7.7%-2.2 = -1.0999999999999996
---整数和小数运算---
23.5%6 = 5.5
23%6.5 = 3.5
23.5%-6 = -0.5
-23%6.5 = 3.0
-23%-6.5 = -3.5
```

从运行结果可以发现两点：

- 只有当第二个数字是负数时，求余的结果才是负数。换句话说，求余结果的正负和第一个数字没有关系，只由第二个数字决定。
- `%`两边的数字都是整数时，求余的结果也是整数；但是只要有一个数字是小数，求余的结果就是小数。

#### 六.** 次方（乘方）运算符

> Python ** 运算符用来求一个 x 的 y 次方，也即次方（乘方）运算符。
>
> 由于开方是次方的逆运算，所以也可以使用 ** 运算符间接地实现开方运算。

```py
print('----次方运算----')
print('3**4 =', 3**4)
print('2**5 =', 2**5)
print('----开方运算----')
print('81**(1/4) =', 81**(1/4))
print('32**(1/5) =', 32**(1/5))
```

运行结果：

```
----次方运算----
3**4 = 81
2**5 = 32
----开方运算----
81**(1/4) = 3.0
32**(1/5) = 2.0
```

### 4.2赋值运算符

> 赋值运算符用来把右侧的值传递给左侧的变量（或者常量）；可以直接将右侧的值交给左侧的变量，也可以进行某些运算后再交给左侧的变量，比如加减乘除、函数调用、逻辑运算等。
>
> [Python](http://c.biancheng.net/python/) 中最基本的赋值运算符是等号`=`；结合其它运算符，`=`还能扩展出更强大的赋值运算符。

`=`是 Python 中最常见、最基本的赋值运算符，用来将一个表达式的值赋给另一个变量，请看下面的例子：

```py
#将字面量（直接量）赋值给变量
n1 = 100
f1 = 47.5
s1 = "http://c.biancheng.net/python/"
#将一个变量的值赋给另一个变量
n2 = n1
f2 = f1
#将某些运算的值赋给变量
sum1 = 25 + 46 
sum2 = n1 % 6
s2 = str(1234)  #将数字转换成字符串
s3 = str(100) + "abc"
```

`=`还可与其他运算符（包括算术运算符、位运算符和逻辑运算符）相结合，扩展成为功能更加强大的赋值运算符，

如下图所示。扩展后的赋值运算符将使得赋值表达式的书写更加优雅和方便。

| Python 扩展赋值运算符 |
| :-------------------: |

| 运算符 | 说 明            | 用法举例  | 等价形式                              |
| ------ | ---------------- | --------- | ------------------------------------- |
| =      | 最基本的赋值运算 | x = y     | x = y                                 |
| + =    | 加赋值           | x += y    | x = x + y                             |
| - =    | 减赋值           | x -= y    | x = x - y                             |
| * =    | 乘赋值           | x *= y    | x = x * y                             |
| / =    | 除赋值           | x /= y    | x = x / y                             |
| % =    | 取余数赋值       | x %= y    | x = x % y                             |
| * * =  | 幂赋值           | x **= y   | x = x ** y                            |
| / / =  | 取整数赋值       | x //= y   | x = x // y                            |
| & =    | 按位与赋值       | x &= y    | x = x & y                             |
| \| =   | 按位或赋值       | x \|= y   | x = x \| y                            |
| ^ =    | 按位异或赋值     | x ^= y    | x = x ^ y                             |
| < < =  | 左移赋值         | x < < = y | x = x << y，这里的 y 指的是左移的位数 |
| > > =  | 右移赋值         | x > > = y | x = x >> y，这里的 y 指的是右移的位数 |

例子：

```python
n1 = 100
f1 = 25.5
n1 -= 80  #等价于 n1=n1-80
f1 *= n1 - 10 #等价于 f1=f1*( n1 - 10 )
print("n1=%d" % n1)
print("f1=%.2f" % f1)
```

运行结果为：

```
n1=20
f1=255.00
```

通常情况下，只要能使用扩展后的赋值运算符，都推荐使用这种赋值运算符。

但是请注意，这种赋值运算符只能针对已经存在的变量赋值，因为赋值过程中需要变量本身参与运算，如果变量没有提前定义，它的值就是未知的，无法参与运算。

例如，下面的写法就是错误的：

```python
n += 10
```

该表达式等价于 n = n + 10，n 没有提前定义，所以它不能参与加法运算。

#### 一.连续赋值

> Python 中的赋值表达式也是有值的，它的值就是被赋的那个值，或者说是左侧变量的值；如果将赋值表达式的值再赋值给另外一个变量，这就构成了连续赋值。

请看下面的例子：

```python
a = b = c = 100
```

`=`具有右结合性，我们从右到左分析这个表达式：

- c = 100 表示将 100 赋值给 c，所以 c 的值是 100；同时，c = 100 这个子表达式的值也是 100。
- b = c = 100 表示将 c = 100 的值赋给 b，因此 b 的值也是 100。
- 以此类推，a 的值也是 100。

最终结果就是，a、b、c 三个变量的值都是 100。

> **关于= 和 = =**
>
> = 和 = = 是两个不同的运算符，= 用来赋值，而 = = 用来判断两边的值是否相等，千万不要混淆。

### 4.3位运算符

> [Python](http://c.biancheng.net/python/) 位运算按照数据在内存中的二进制位（Bit）进行操作，它一般用于底层开发（算法设计、驱动、图像处理、单片机等），在应用层开发（Web 开发、Linux 运维等）中并不常见。

Python 位运算符只能用来操作整数类型，它按照整数在内存中的二进制形式进行计算。Python 支持的位运算符如下表所示。

| Python 位运算符一览表 |
| :-------------------: |

| 位运算符 | 说明     | 使用形式 | 举 例                            |
| -------- | -------- | -------- | -------------------------------- |
| &        | 按位与   | a & b    | 4 & 5                            |
| \|       | 按位或   | a \| b   | 4 \| 5                           |
| ^        | 按位异或 | a ^ b    | 4 ^ 5                            |
| ~        | 按位取反 | ~a       | ~4                               |
| <<       | 按位左移 | a << b   | 4 << 2，表示整数 4 按位左移 2 位 |
| >>       | 按位右移 | a >> b   | 4 >> 2，表示整数 4 按位右移 2 位 |

#### 一.& 按位与运算符

按位与运算符`&`的运算规则是：只有参与`&`运算的两个位都为 1 时，结果才为 1，否则为 0。例如`1&1`为 1，`0&0`为 0，`1&0`也为 0，这和逻辑运算符`&&`非常类似。

| Python & 运算符的规则 |
| :-------------------: |

| 第一个Bit位 | 第二个Bit位 | 结果 |
| ----------- | ----------- | ---- |
| 0           | 0           | 0    |
| 0           | 1           | 0    |
| 1           | 0           | 0    |
| 1           | 1           | 1    |

> 例如：`9&5`可以转换成如下的运算
>
> ```
>   0000 0000 -- 0000 0000 -- 0000 0000 -- 0000 1001  （9 在内存中的存储）
> & 0000 0000 -- 0000 0000 -- 0000 0000 -- 0000 0101  （5 在内存中的存储）
> -----------------------------------------------------------------------------------
>   0000 0000 -- 0000 0000 -- 0000 0000 -- 0000 0001  （1 在内存中的存储）
> ```
>
> `&`运算符会对参与运算的两个整数的所有二进制位进行`&`运算，`9&5`的结果为 1。

> 又例如：`-9&5`可以转换成如下的运算
>
> ```
>   1111 1111 -- 1111 1111 -- 1111 1111 -- 1111 0111  （-9 在内存中的存储）
> & 0000 0000 -- 0000 0000 -- 0000 0000 -- 0000 0101  （5 在内存中的存储）
> -----------------------------------------------------------------------------------
>   0000 0000 -- 0000 0000 -- 0000 0000 -- 0000 0101  （5 在内存中的存储）
> ```
>
> `-9&5`的结果是 5。

注意：`&`运算符操作的是数据在内存中存储的原始二进制位，而不是数据本身的二进制形式；其他位运算符也一样。

> 以`-9&5`为例，-9 的在内存中的存储和 -9 的二进制形式截然不同：
>
> ```
>  1111 1111 -- 1111 1111 -- 1111 1111 -- 1111 0111  （-9 在内存中的存储）
> -0000 0000 -- 0000 0000 -- 0000 0000 -- 0000 1001  （-9 的二进制形式，前面多余的0可以抹掉）
> ```

> 按位与运算通常用来对某些位清 0，或者保留某些位。例如要把 n 的高 16 位清 0 ，保留低 16 位，可以进行`n & 0XFFFF`运算（0XFFFF 在内存中的存储形式为 0000 0000 -- 0000 0000 -- 1111 1111 -- 1111 1111）。
>
> 使用 Python 代码对上面的分析进行验证：
>
> ```python
> n = 0X8FA6002D
> print("%X" % (9&5) )
> print("%X" % (-9&5) )
> print("%X" % (n&0XFFFF) )
> ```
>
> 运行结果：
>
> ```
> 1
> 5
> 2D
> ```

#### 二.| 按位或运算符

按位或运算符`|`的运算规则是：两个二进制位有一个为 1 时，结果就为 1，两个都为 0 时结果才为 0。例如`1|1`为 1，`0|0`为0，1|0 为1，这和逻辑运算中的`||`非常类似。

| Python 按位或运算符的规则 |
| :-----------------------: |

| 第一个Bit位 | 第二个Bit位 | 结果 |
| ----------- | ----------- | ---- |
| 0           | 0           | 0    |
| 0           | 1           | 1    |
| 1           | 0           | 1    |
| 1           | 1           | 1    |

> 例如:`9 | 5`可以转换成如下的运算
>
> ```
>  0000 0000 -- 0000 0000 -- 0000 0000 -- 0000 1001  （9 在内存中的存储）
> | 0000 0000 -- 0000 0000 -- 0000 0000 -- 0000 0101  （5 在内存中的存储）
> -----------------------------------------------------------------------------------
>   0000 0000 -- 0000 0000 -- 0000 0000 -- 0000 1101  （13 在内存中的存储）
> ```
>
> `9 | 5`的结果为 13。

> 又如： `-9 | 5`可以转换成如下的运算
>
> ```
>   1111 1111 -- 1111 1111 -- 1111 1111 -- 1111 0111  （-9 在内存中的存储）
> | 0000 0000 -- 0000 0000 -- 0000 0000 -- 0000 0101  （5 在内存中的存储）
> -----------------------------------------------------------------------------------
>   1111 1111 -- 1111 1111 -- 1111 1111 -- 1111 0111  （-9 在内存中的存储）
> ```
>
> `-9 | 5`的结果是 -9。

> 按位或运算可以用来将某些位置 1，或者保留某些位。例如要把 n 的高 16 位置 1，保留低 16 位，可以进行`n | 0XFFFF0000`运算（0XFFFF0000 在内存中的存储形式为 1111 1111 -- 1111 1111 -- 0000 0000 -- 0000 0000）。
>
> 使用 Python 代码对上面的分析进行验证：、
>
> ```python
> n = 0X2D
> print("%X" % (9|5) )
> print("%X" % (-9|5) )
> print("%X" % (n|0XFFFF0000) )
> ```
>
> 运行结果：
>
> ```
> D
> -9
> FFFF002D
> ```

#### 三.^按位异或运算符

按位异或运算`^`的运算规则是：参与运算的两个二进制位不同时，结果为 1，相同时结果为 0。例如`0^1`为 1，`0^0`为 0，`1^1`为 0。

| Python ^ 运算符的规则 |
| :-------------------: |

| 第一个Bit位 | 第二个Bit位 | 结果 |
| ----------- | ----------- | ---- |
| 0           | 0           | 0    |
| 0           | 1           | 1    |
| 1           | 0           | 1    |
| 1           | 1           | 0    |

> 例如:`9 ^ 5`可以转换成如下的运算
>
> ```
>   0000 0000 -- 0000 0000 -- 0000 0000 -- 0000 1001  （9 在内存中的存储）
> ^ 0000 0000 -- 0000 0000 -- 0000 0000 -- 0000 0101  （5 在内存中的存储）
> -----------------------------------------------------------------------------------
>   0000 0000 -- 0000 0000 -- 0000 0000 -- 0000 1100  （12 在内存中的存储）
> ```
>
> `9 ^ 5`的结果为 12。

> 又如:`-9 ^ 5`可以转换成如下的运算
>
> ```
>   1111 1111 -- 1111 1111 -- 1111 1111 -- 1111 0111  （-9 在内存中的存储）
> ^ 0000 0000 -- 0000 0000 -- 0000 0000 -- 0000 0101  （5 在内存中的存储）
> -----------------------------------------------------------------------------------
>   1111 1111 -- 1111 1111 -- 1111 1111 -- 1111 0010  （-14 在内存中的存储）
> ```
>
> `-9 ^ 5`的结果是 -14。

> 按位异或运算可以用来将某些二进制位反转。例如要把 n 的高 16 位反转，保留低 16 位，可以进行`n ^ 0XFFFF0000`运算（0XFFFF0000 在内存中的存储形式为 1111 1111 -- 1111 1111 -- 0000 0000 -- 0000 0000）。
>
> 使用 Python 代码对上面的分析进行验证：
>
> ```py
> n = 0X0A07002D
> print("%X" % (9^5) )
> print("%X" % (-9^5) )
> print("%X" % (n^0XFFFF0000) )
> ```
>
> 运行结果：
>
> ```
> C
> -E
> F5F8002D
> ```

#### 四.~按位取反运算符

按位取反运算符`~`为单目运算符（只有一个操作数），右结合性，作用是对参与运算的二进制位取反。例如`~1`为0，`~0`为1，这和逻辑运算中的`!`非常类似。

> 例如:`~9`可以转换为如下的运算
>
> ```
> ~ 0000 0000 -- 0000 0000 -- 0000 0000 -- 0000 1001  （9 在内存中的存储）
> -----------------------------------------------------------------------------------
>   1111 1111 -- 1111 1111 -- 1111 1111 -- 1111 0110  （-10 在内存中的存储）
> ```
>
> 所以`~9`的结果为 -10。

> 例如:`~-9`可以转换为如下的运算
>
> ```
> ~ 1111 1111 -- 1111 1111 -- 1111 1111 -- 1111 0111  （-9 在内存中的存储）
> -----------------------------------------------------------------------------------
>   0000 0000 -- 0000 0000 -- 0000 0000 -- 0000 1000  （8 在内存中的存储）
> ```
>
> 所以`~-9`的结果为 8。
>
> 使用 Python 代码对上面的分析进行验证：
>
> ```PY
> print("%X" % (~9) )
> print("%X" % (~-9) )
> ```
>
> 运行结果：
>
> ```
> -A
> 8
> ```

#### 五.<<左移运算符

Python 左移运算符`<<`用来把操作数的各个二进制位全部左移若干位，高位丢弃，低位补 0。

> 例如:`9<<3`可以转换为如下的运算
>
> ```
> << 0000 0000 -- 0000 0000 -- 0000 0000 -- 0000 1001  （9 在内存中的存储）
> -----------------------------------------------------------------------------------
>    0000 0000 -- 0000 0000 -- 0000 0000 -- 0100 1000  （72 在内存中的存储）
> ```
>
> 所以`9<<3`的结果为 72。

> 又如:`(-9)<<3`可以转换为如下的运算
>
> ```
> << 1111 1111 -- 1111 1111 -- 1111 1111 -- 1111 0111  （-9 在内存中的存储）
> -----------------------------------------------------------------------------------
>    1111 1111 -- 1111 1111 -- 1111 1111 -- 1011 1000  （-72 在内存中的存储）
> ```
>
> 所以`(-9)<<3`的结果为 -72

> 如果数据较小，被丢弃的高位不包含 1，那么左移 n 位相当于乘以 2 的 n 次方。
>
> 使用 Python 代码对上面的分析进行验证：
>
> ```PY
> print("%X" % (9<<3) )
> print("%X" % ((-9)<<3) )
> ```
>
> 运行结果：
>
> ```
> 48
> -48
> ```

#### 六.>>右移运算符

Python 右移运算符`>>`用来把操作数的各个二进制位全部右移若干位，低位丢弃，高位补 0 或 1。如果数据的最高位是 0，那么就补 0；如果最高位是 1，那么就补 1。

> 例如：`9>>3`可以转换为如下的运算
>
> ```
> >> 0000 0000 -- 0000 0000 -- 0000 0000 -- 0000 1001  （9 在内存中的存储）
> -----------------------------------------------------------------------------------
>    0000 0000 -- 0000 0000 -- 0000 0000 -- 0000 0001  （1 在内存中的存储）
> ```
>
> 所以`9>>3`的结果为 1。

> 又如：`(-9)>>3`可以转换为如下的运算
>
> ```
> >> 1111 1111 -- 1111 1111 -- 1111 1111 -- 1111 0111  （-9 在内存中的存储）
> -----------------------------------------------------------------------------------
>    1111 1111 -- 1111 1111 -- 1111 1111 -- 1111 1110  （-2 在内存中的存储）
> ```
>
> 所以`(-9)>>3`的结果为 -2

> 如果被丢弃的低位不包含 1，那么右移 n 位相当于除以 2 的 n 次方（但被移除的位中经常会包含 1）。
>
> 使用 Python 代码对上面的分析进行验证：
>
> ```python
> print("%X" % (9>>3) )
> print("%X" % ((-9)>>3) )
> ```
>
> 运行结果：
>
> ```
> 1
> -2
> ```

### 4.4比较运算符（关系运算符）

> 比较运算符，也称关系运算符，用于对常量、变量或表达式的结果进行大小比较。如果这种比较是成立的，则返回 True（真），反之则返回 False（假）。
>
> True 和 False 都是 bool 类型，它们专门用来表示一件事情的真假，或者一个表达式是否成立.

[Python](http://c.biancheng.net/python/) 支持的比较运算符如下表所示。

| Python 比较运算符汇总 |
| --------------------- |

| 比较运算符 | 说明                                                         |
| ---------- | ------------------------------------------------------------ |
| >          | 大于，如果`>`前面的值大于后面的值，则返回 True，否则返回 False。 |
| <          | 小于，如果`<`前面的值小于后面的值，则返回 True，否则返回 False。 |
| ==         | 等于，如果`==`两边的值相等，则返回 True，否则返回 False。    |
| >=         | 大于等于（等价于数学中的 ≥），如果`>=`前面的值大于或者等于后面的值，则返回 True，否则返回 False。 |
| <=         | 小于等于（等价于数学中的 ≤），如果`<=`前面的值小于或者等于后面的值，则返回 True，否则返回 False。 |
| !=         | 不等于（等价于数学中的 ≠），如果`!=`两边的值不相等，则返回 True，否则返回 False。 |
| is         | 判断两个变量所引用的对象是否相同，如果相同则返回 True，否则返回 False。 |
| is not     | 判断两个变量所引用的对象是否不相同，如果不相同则返回 True，否则返回 False。 |

Python 比较运算符的使用举例：

```py
print("89是否大于100：", 89 > 100)
print("24*5是否大于等于76：", 24*5 >= 76)
print("86.5是否等于86.5：", 86.5 == 86.5)
print("34是否等于34.0：", 34 == 34.0)
print("False是否小于True：", False < True)
print("True是否等于True：", True < True)
```

运行结果：

```
89是否大于100： False
24*5是否大于等于76： True
86.5是否等于86.5： True
34是否等于34.0： True
False是否小于True： True
True是否等于True： False
```

> **= = 和 is 的区别**
>
> = = 用来比较两个变量的值是否相等，而 is 则用来比对两个变量引用的是否是同一个对象.
>
> 例如：
>
> ```py
> import time  #引入time模块
> t1 = time.gmtime() # gmtime()用来获取当前时间
> t2 =  time.gmtime()
> print(t1 == t2) #输出True
> print(t1 is t2) #输出False
> ```
>
> 运行结果：
>
> ```
> True
> False
> ```
>
> time 模块的 gmtime() 方法用来获取当前的系统时间，精确到秒级，因为程序运行非常快，所以 t1 和 t1 得到的时间是一样的。== 用来判断 t1 和 t2 的值是否相等，所以返回 True。
>
> 虽然 t1 和 t2 的值相等，但它们是两个不同的对象（每次调用 gmtime() 都返回不同的对象），所以`t1 is t2`返回 False。这就好像两个双胞胎姐妹，虽然她们的外貌是一样的，但它们是两个人。
>
> 那么，如何判断两个对象是否相同呢？答案是判断两个对象的内存地址。如果内存地址相同，说明两个对象使用的是同一块内存，当然就是同一个对象了；这就像两个名字使用了同一个身体，当然就是同一个人了。

### 4.5逻辑运算符

[Python](http://c.biancheng.net/python/) 有逻辑运算，请看下表：

| Python 逻辑运算符及功能 |
| ----------------------- |

| 逻辑运算符 | 含义                           | 基本格式 | 说明                                                         |
| ---------- | ------------------------------ | -------- | ------------------------------------------------------------ |
| and        | 逻辑与运算，等价于数学中的“且” | a and b  | 当 a 和 b 两个表达式都为真时，a and b 的结果才为真，否则为假。 |
| or         | 逻辑或运算，等价于数学中的“或” | a or b   | 当 a 和 b 两个表达式都为假时，a or b 的结果才是假，否则为真。 |
| not        | 逻辑非运算，等价于数学中的“非” | not a    | 如果 a 为真，那么 not a 的结果为假；如果 a 为假，那么 not a 的结果为真。相当于对 a 取反。 |

逻辑运算符一般和关系运算符结合使用，例如：

```py
14>6 and 45.6 > 90
```

14>6 结果为 True，成立，45.6>90 结果为 False，不成立，所以整个表达式的结果为 False，也即不成立。

又例如：

```python
age = int(input("请输入年龄："))
height = int(input("请输入身高："))
if age>=18 and age<=30 and height >=170 and height <= 185 :
    print("恭喜，你符合报考飞行员的条件")
else:
    print("抱歉，你不符合报考飞行员的条件")
```

运行结果：

```
请输入年龄：23↙
请输入身高：178↙
恭喜，你符合报考飞行员的条件
```

> **注意：Python 逻辑运算符可以用来操作任何类型的表达式，不管表达式是不是 bool 类型；同时，逻辑运算的结果也不一定是 bool 类型，它也可以是任意类型。**
>
> 例如：
>
> ```python
> print(100 and 200)
> print(45 and 0)
> print("" or "http://c.biancheng.net/python/")
> print(18.5 or "http://c.biancheng.net/python/")
> ```
>
> 运行结果：
>
> ```
> 200
> 0
> http://c.biancheng.net/python/
> 18.5
> ```
>
> 本例中 and 和 or 运算符操作的都不是 bool 类型表达式，操作的结果也不是 bool 值。

> **逻辑运算符的本质**
>
> **在 Python 中，and 和 or 不一定会计算右边表达式的值，有时候只计算左边表达式的值就能得到最终结果。**
>
> **另外，and 和 or 运算符会将其中一个表达式的值作为最终结果，而不是将 True 或者 False 作为最终结果。**

对于 and 运算符，两边的值都为真时最终结果才为真，但是只要其中有一个值为假，那么最终结果就是假，所以 Python 按照下面的规则执行 and 运算：

- 如果左边表达式的值为假，那么就不用计算右边表达式的值了，因为不管右边表达式的值是什么，都不会影响最终结果，最终结果都是假，此时 and 会把左边表达式的值作为最终结果。
- 如果左边表达式的值为真，那么最终值是不能确定的，and 会继续计算右边表达式的值，并将右边表达式的值作为最终结果。

对于 or 运算符，情况是类似的，两边的值都为假时最终结果才为假，只要其中有一个值为真，那么最终结果就是真，所以 Python 按照下面的规则执行 or 运算：

- 如果左边表达式的值为真，那么就不用计算右边表达式的值了，因为不管右边表达式的值是什么，都不会影响最终结果，最终结果都是真，此时 or 会把左边表达式的值作为最终结果。
- 如果左边表达式的值为假，那么最终值是不能确定的，or 会继续计算右边表达式的值，并将右边表达式的值作为最终结果。

使用代码验证上面的结论：

```python
url = "http://c.biancheng.net/cplus/"
print("----False and xxx-----")
print( False and print(url) )
print("----True and xxx-----")
print( True and print(url) )
print("----False or xxx-----")
print( False or print(url) )
print("----True or xxx-----")
print( True or print(url) )
```

运行结果：

```
----False and xxx-----
False
----True and xxx-----
http://c.biancheng.net/cplus/
None
----False or xxx-----
http://c.biancheng.net/cplus/
None
----True or xxx-----
True
```

第 4 行代码中，and 左边的值为假，不需要再执行右边的表达式了，所以 print(url) 没有任何输出。

第 6 行代码中，and 左边的值为真，还需要执行右边的表达式才能得到最终的结果，所以 print(url) 输出了一个网址。

第 8、10 行代码也是类似的。

### 4.6三目运算符

假设现在有两个数字，我们希望获得其中较大的一个，可以使用 if else 语句，例如：

```py
if a>b:
    max = a;
else:
    max = b;
```

但是 [Python](http://c.biancheng.net/python/) 提供了一种更加简洁的写法，如下所示：

```py
max = a if a>b else b
```

> 这是一种类似于其它编程语言中三目运算符`? :`的写法。Python 是一种极简主义的编程语言，它没有引入`? :`这个新的运算符，而是使用已有的 if else 关键字来实现相同的功能。

使用 if else 实现三目运算符（条件运算符）的格式如下：

```py
exp1 if contion else exp2
```

condition 是判断条件，exp1 和 exp2 是两个表达式。如果 condition 成立（结果为真），就执行 exp1，并把 exp1 的结果作为整个表达式的结果；如果 condition 不成立（结果为假），就执行 exp2，并把 exp2 的结果作为整个表达式的结果。

> 前面的语句`max = a if a>b else b`的含义是：
>
> - 如果 a>b 成立，就把 a 作为整个表达式的值，并赋给变量 max；
> - 如果 a> b 不成立，就把 b 作为整个表达式的值，并赋给变量 max。

#### 一.三目运算符的嵌套

Python 三目运算符支持嵌套，如此可以构成更加复杂的表达式。在嵌套时需要注意 if 和 else 的配对，例如：

```py
a if a>b else c if c>d else d
```

应该理解为：

```py
a if a>b else ( c if c>d else d )
```

用 Python 三目运算符判断两个数字的关系：

```py
a = int( input("Input a: ") )
b = int( input("Input b: ") )
print("a大于b") if a>b else ( print("a小于b") if a<b else print("a等于b") )
```

运行结果：

```
Input a: 45↙
Input b: 100↙
a小于b
```

该程序是一个嵌套的三目运算符。程序先对 a>b 求值，如果该表达式为 True，程序就返回执行第一个表达式 print("a大于b")，否则将继续执行 else 后面的内容，也就是：

```py
( print("a小于b") if a<b else print("a等于b") )
```

进入该表达式后，先判断 a<b 是否成立，如果 a<b 的结果为 True，将执行 print("a小于b")，否则执行 print("a等于b")。

### 4.7运算符优先级和结合性

#### 一.运算符优先级

> 所谓优先级，就是当多个运算符同时出现在一个表达式中时，先执行哪个运算符。
>
> 例如对于表达式`a + b * c`，Python 会先计算乘法再计算加法；`b * c`的结果为 8，`a + 8`的结果为 24，所以 d 最终的值也是 24。先计算`*`再计算`+`，说明`*`的优先级高于`+`。

Python 支持几十种运算符，被划分成将近二十个优先级，有的运算符优先级不同，有的运算符优先级相同，当一个表达式中出现多个运算符时，Python 会先比较各个运算符的优先级，按照优先级从高到低的顺序依次执行；当遇到优先级相同的运算符时，再根据结合性决定先执行哪个运算符：如果是左结合性就先执行左边的运算符，如果是右结合性就先执行右边的运算符。请看下表。

| Python 运算符优先级和结合性一览表 |
| :-------------------------------: |

| 运算符说明 | Python运算符            | 优先级 | 结合性 | 优先级顺序 |
| ---------- | ----------------------- | ------ | ------ | ---------- |
| 小括号     | ( )                     | 19     | 无     | 高         |
| 索引运算符 | x[i] 或 x[i1: i2 [:i3]] | 18     | 左     | \|         |
| 属性访问   | x.attribute             | 17     | 左     | \|         |
| 乘方       | **                      | 16     | 右     | \|         |
| 按位取反   | ~                       | 15     | 右     | \|         |
| 符号运算符 | +（正号）、-（负号）    | 14     | 右     | \|         |
| 乘除       | *、/、//、%             | 13     | 左     | \|         |
| 加减       | +、-                    | 12     | 左     | \|         |
| 位移       | >>、<<                  | 11     | 左     | \|         |
| 按位与     | &                       | 10     | 右     | \|         |
| 按位异或   | ^                       | 9      | 左     | \|         |
| 按位或     | \|                      | 8      | 左     | \|         |
| 比较运算符 | ==、!=、>、>=、<、<=    | 7      | 左     | \|         |
| is 运算符  | is、is not              | 6      | 左     | \|         |
| in 运算符  | in、not in              | 5      | 左     | \|         |
| 逻辑非     | not                     | 4      | 右     | \|         |
| 逻辑与     | and                     | 3      | 左     | \|         |
| 逻辑或     | or                      | 2      | 左     | \|         |
| 逗号运算符 | exp1, exp2              | 1      | 左     | 低         |

分析下面表达式的结果：

```py
4+4<<2
```

`+`的优先级是 12，`<<`的优先级是 11，`+`的优先级高于`<<`，所以先执行 4+4，得到结果 8，再执行 8<<2，得到结果 32，这也是整个表达式的最终结果。

像这种不好确定优先级的表达式，我们可以给子表达式加上`( )`，也就是写成下面的样子：

```py
(4+4) << 2
```

当然，我们也可以使用`( )`改变程序的执行顺序，比如：

```py
4+(4<<2)
```

则先执行 4<<2，得到结果 16，再执行 4+16，得到结果20。

> **虽然 Python 运算符存在优先级的关系，但我不推荐过度依赖运算符的优先级，这会导致程序的可读性降低。因此，建议：**
>
> - **不要把一个表达式写得过于复杂，如果一个表达式过于复杂，可以尝试把它拆分来书写。**
> - **不要过多地依赖运算符的优先级来控制表达式的执行顺序，这样可读性太差，应尽量使用`( )`来控制表达式的执行顺序。**

#### 二. 运算符结合性

所谓结合性，就是当一个表达式中出现多个优先级相同的运算符时，先执行哪个运算符：先执行左边的叫左结合性，先执行右边的叫右结合性。

例如对于表达式对于`100 / 25 * 16`，`/`和`*`的优先级相同，应该先执行哪一个呢？这个时候就不能只依赖运算符优先级决定了，还要参考运算符的结合性。`/`和`*`都具有左结合性，因此先执行左边的除法，再执行右边的乘法，最终结果是 64。

Python 中大部分运算符都具有左结合性，也就是从左到右执行；只有 ** 乘方运算符、单目运算符（例如 not 逻辑非运算符）、赋值运算符和三目运算符例外，它们具有右结合性，也就是从右向左执行。上表中列出了所有 Python 运算符的结合性。

## 5.列表、元组、字典和集合

### 5.1序列（包括序列类型和常用操作）

序列，指的是一块可存放多个值的连续内存空间，这些值按一定顺序排列，可通过每个值所在位置的编号（称为索引）访问它们。

为了更形象的认识序列，可以将它看做是一家旅店，那么店中的每个房间就如同序列存储数据的一个个内存空间，每个房间所特有的房间号就相当于索引值。也就是说，通过房间号（索引）我们可以找到这家旅店（序列）中的每个房间（内存空间）。

> 在 [Python](http://c.biancheng.net/python/) 中，序列类型包括字符串、列表、元组、集合和字典，这些序列支持以下几种通用的操作，但比较特殊的是，集合和字典不支持索引、切片、相加和相乘操作。
>
> 字符串也是一种常见的序列，它也可以直接通过索引访问字符串内的字符。

#### 一.序列索引

序列中，每个元素都有属于自己的编号（索引）。从起始元素开始，索引值从 0 开始递增，如下图所示。

![](http://c.biancheng.net/uploads/allimg/190705/2-1ZF5104015S0.gif)

除此之外，Python 还支持索引值是负数，此类索引是从右向左计数，换句话说，从最后一个元素开始计数，从索引值 -1 开始，如下图所示。

![](http://c.biancheng.net/uploads/allimg/200506/2-2005061011292T.gif)

> 注意：在使用负值作为列序中各元素的索引值时，是从 -1 开始，而不是从 0 开始。

无论是采用正索引值，还是负索引值，都可以访问序列中的任何元素。以字符串为例，访问“C语言中文网”的首元素和尾元素，可以使用如下的代码：

```c
str="C语言中文网"
print(str[0],"==",str[-6])
print(str[5],"==",str[-1])
```

输出结果为：

```
C == C
网 == 网
```

#### 二.序列切片

切片操作是访问序列中元素的另一种方法，它可以访问一定范围内的元素，通过切片操作，可以生成一个新的序列。

序列实现切片操作的语法格式如下：

```
sname[start : end : step]
```

> 各个参数的含义分别是：
>
> - sname：表示序列的名称；
> - start：表示切片的开始索引位置（包括该位置），此参数也可以不指定，会默认为 0，也就是从序列的开头进行切片；
> - end：表示切片的结束索引位置（不包括该位置），如果不指定，则默认为序列的长度；
> - step：表示在切片过程中，隔几个存储位置（包含当前位置）取一次元素，也就是说，如果 step 的值大于 1，则在进行切片去序列元素时，会“跳跃式”的取元素。如果省略设置 step 的值，则最后一个冒号就可以省略。

例如，对字符串“C语言中文网”进行切片：

```c
str="C语言中文网"
#取索引区间为[0,2]之间（不包括索引2处的字符）的字符串
print(str[:2])
#隔 1 个字符取一个字符，区间是整个字符串
print(str[::2])
#取整个字符串，此时 [] 中只需一个冒号即可
print(str[:])
```

运行结果为：

```
C语
C言文
C语言中文网
```

#### 三.序列相乘

Python 中，使用数字 n 乘以一个序列会生成新的序列，其内容为原来序列被重复 n 次的结果。

例如：

```py
str="C语言中文网"
print(str*3)
```

输出结果为：

```
'C语言中文网C语言中文网C语言中文网'
```

比较特殊的是，列表类型在进行乘法运算时，还可以实现初始化指定长度列表的功能。例如如下的代码，将创建一个长度为 5 的列表，列表中的每个元素都是 None，表示什么都没有。

```py
#列表的创建用 []，后续讲解列表时会详细介绍
list = [None]*5
print(list)
```

输出结果为：

```
[None, None, None, None, None]
```

#### 四.检查元素是否包含在序列中

Python 中，可以使用 in 关键字检查某元素是否为序列的成员，其语法格式为：

```py
value in sequence
```

其中，value 表示要检查的元素，sequence 表示指定的序列。

例如，检查字符‘c’是否包含在字符串“c.biancheng.net”中，可以执行如下代码：

```py
str="c.biancheng.net"
print('c'in str)
```

运行结果为：

```
True
```

和 in 关键字用法相同，但功能恰好相反的，还有 not in 关键字，它用来检查某个元素是否不包含在指定的序列中，比如说：

```py
str="c.biancheng.net"
print('c' not in str)
```

输出结果为：

```
False
```

#### 五.和序列相关的内置函数

Python提供了几个内置函数，如下表所示，可用于实现与序列相关的一些常用操作。

| 序列相关的内置函数 |
| :----------------: |

| 函数        | 功能                                                         |
| ----------- | ------------------------------------------------------------ |
| len()       | 计算序列的长度，即返回序列中包含多少个元素。                 |
| max()       | 找出序列中的最大元素。注意，对序列使用 sum() 函数时，做加和操作的必须都是数字，不能是字符或字符串，否则该函数将抛出异常，因为解释器无法判定是要做连接操作（+ 运算符可以连接两个序列），还是做加和操作。 |
| min()       | 找出序列中的最小元素。                                       |
| list()      | 将序列转换为列表。                                           |
| str()       | 将序列转换为字符串。                                         |
| sum()       | 计算元素和。                                                 |
| sorted()    | 对元素进行排序。                                             |
| reversed()  | 反向序列中的元素。                                           |
| enumerate() | 将序列组合为一个索引序列，多用在 for 循环中。                |

例子：

```python
str="c.biancheng.net"
#找出最大的字符
print(max(str))
#找出最小的字符
print(min(str))
#对字符串中的元素进行排序
print(sorted(str))
```

输出结果为：

```
t
.
['.', '.', 'a', 'b', 'c', 'c', 'e', 'e', 'g', 'h', 'i', 'n', 'n', 'n', 't']
```

### 5.2列表

在实际开发中，经常需要将一组（不只一个）数据存储起来，以便后边的代码使用。说到这里，一些读者可能听说过数组（Array），它就可以把多个数据挨个存储到一起，通过数组下标可以访问数组中的每个元素。

需要明确的是，[Python](http://c.biancheng.net/python/) 中没有数组，但是加入了更加强大的列表。如果把数组看做是一个集装箱，那么 Python 的列表就是一个工厂的仓库。

从形式上看，列表会将所有元素都放在一对中括号`[ ]`里面，相邻元素之间用逗号`,`分隔，如下所示：

```
[element1, element2, element3, ..., elementn]
```

格式中，element1 ~ elementn 表示列表中的元素，个数没有限制，只要是 Python 支持的数据类型就可以。

从内容上看，列表可以存储整数、小数、字符串、列表、元组等任何类型的数据，并且同一个列表中元素的类型也可以不同。比如说：

```
["http://c.biancheng.net/python/", 1, [2,3,4] , 3.0]
```

可以看到，列表中同时包含字符串、整数、列表、浮点数这些数据类型。

> 注意：在使用列表时，虽然可以将不同类型的数据放入到同一个列表中，但通常情况下不这么做，同一列表中只放入同一类型的数据，这样可以提高程序的可读性。

另外，我们经常用 list 代指列表，这是因为列表的数据类型就是 list，通过 type() 函数就可以知道，例如：

```python
>>> type( ["http://c.biancheng.net/python/", 1, [2,3,4] , 3.0] )
<class 'list'>
```

可以看到，它的数据类型为 list，就表示它是一个列表。

#### 一.创建列表

在 Python 中，创建列表的方法可分为两种，下面分别进行介绍。

1) 使用 [ ] 直接创建列表

使用`[ ]`创建列表后，一般使用`=`将它赋值给某个变量，具体格式如下：

```py
listname = [element1 , element2 , element3 , ... , elementn]
```

其中，listname 表示变量名，element1 ~ elementn 表示列表元素。

例如，下面定义的列表都是合法的：

```py
num = [1, 2, 3, 4, 5, 6, 7]
name = ["C语言中文网", "http://c.biancheng.net"]
program = ["C语言", "Python", "Java"]
```

另外，使用此方式创建列表时，列表中元素可以有多个，也可以一个都没有，例如：

```py
emptylist = [ ]
```

这表明，emptylist 是一个空列表。

2) 使用 list() 函数创建列表

除了使用`[ ]`创建列表外，Python 还提供了一个内置的函数 list()，使用它可以将其它数据类型转换为列表类型。

例如：

```py
#将字符串转换成列表
list1 = list("hello")
print(list1)
#将元组转换成列表
tuple1 = ('Python', 'Java', 'C++', 'JavaScript')
list2 = list(tuple1)
print(list2)
#将字典转换成列表
dict1 = {'a':100, 'b':42, 'c':9}
list3 = list(dict1)
print(list3)
#将区间转换成列表
range1 = range(1, 6)
list4 = list(range1)
print(list4)
#创建空列表
print(list())
```

运行结果：

```
['h', 'e', 'l', 'l', 'o']
['Python', 'Java', 'C++', 'JavaScript']
['a', 'b', 'c']
[1, 2, 3, 4, 5]
[]
```

#### 二.访问列表元素

列表是 Python 序列的一种，我们可以使用索引（Index）访问列表中的某个元素（得到的是一个元素的值），也可以使用切片访问列表中的一组元素（得到的是一个新的子列表）。

使用索引访问列表元素的格式为：

```py
listname[i]
```

其中，listname 表示列表名字，i 表示索引值。列表的索引可以是正数，也可以是负数。

使用切片访问列表元素的格式为：

```
listname[start : end : step]
```

其中，listname 表示列表名字，start 表示起始索引，end 表示结束索引，step 表示步长。

请看下面代码：

```py
url = list("http://c.biancheng.net/shell/")
#使用索引访问列表中的某个元素
print(url[3])  #使用正数索引
print(url[-4])  #使用负数索引
#使用切片访问列表中的一组元素
print(url[9: 18])  #使用正数切片
print(url[9: 18: 3])  #指定步长
print(url[-6: -1])  #使用负数切片
```

运行结果：

```
p
e
['b', 'i', 'a', 'n', 'c', 'h', 'e', 'n', 'g']
['b', 'n', 'e']
['s', 'h', 'e', 'l', 'l']
```

#### 三.删除列表

对于已经创建的列表，如果不再使用，可以使用`del`关键字将其删除。

实际开发中并不经常使用 del 来删除列表，因为 Python 自带的垃圾回收机制会自动销毁无用的列表，即使开发者不手动删除，Python 也会自动将其回收。

del 关键字的语法格式为：

```
del listname
```

其中，listname 表示要删除列表的名称。

Python 删除列表实例演示：

```py
intlist = [1, 45, 8, 34]
print(intlist)
del intlist
print(intlist)
```

运行结果：

```
[1, 45, 8, 34]
Traceback (most recent call last):
    File "C:\Users\VincentCroft\Desktop\demo.py", line 4, in <module>
        print(intlist)
NameError: name 'intlist' is not defined
```

#### 四.list列表添加元素

实际开发中，经常需要对 [Python](http://c.biancheng.net/python/) 列表进行更新，包括向列表中添加元素、修改表中元素以及删除元素。本节先来学习如何向列表中添加元素。

使用`+`运算符可以将多个序列连接起来；列表是序列的一种，所以也可以使用`+`进行连接，这样就相当于在第一个列表的末尾添加了另一个列表。

请看下面的演示：

```PY
language = ["Python", "C++", "Java"]
birthday = [1991, 1998, 1995]
info = language + birthday
print("language =", language)
print("birthday =", birthday)
print("info =", info)
```

运行结果：

```
language = ['Python', 'C++', 'Java']
birthday = [1991, 1998, 1995]
info = ['Python', 'C++', 'Java', 1991, 1998, 1995]
```

从运行结果可以发现，使用`+`会生成一个新的列表，原有的列表不会被改变。

`+`更多的是用来拼接列表，而且执行效率并不高，如果想在列表中插入元素，应该使用下面几个专门的方法。

##### (1)append()方法添加元素

append() 方法用于在列表的末尾追加元素，该方法的语法格式如下：

其中，listname 表示要添加元素的列表；obj 表示到添加到列表末尾的数据，它可以是单个元素，也可以是列表、元组等。

请看下面的演示：

```PY
l = ['Python', 'C++', 'Java']
#追加元素
l.append('PHP')
print(l)
#追加元组，整个元组被当成一个元素
t = ('JavaScript', 'C#', 'Go')
l.append(t)
print(l)
#追加列表，整个列表也被当成一个元素
l.append(['Ruby', 'SQL'])
print(l)
```

运行结果为：

```
['Python', 'C++', 'Java', 'PHP']
['Python', 'C++', 'Java', 'PHP', ('JavaScript', 'C#', 'Go')]
['Python', 'C++', 'Java', 'PHP', ('JavaScript', 'C#', 'Go'), ['Ruby', 'SQL']]
```

可以看到，当给 append() 方法传递列表或者元组时，此方法会将它们视为一个整体，作为一个元素添加到列表中，从而形成包含列表和元组的新列表。

##### (2)extend()方法添加元素

extend() 和 append() 的不同之处在于：extend() 不会把列表或者元祖视为一个整体，而是把它们包含的元素逐个添加到列表中。

extend() 方法的语法格式如下：

```
listname.extend(obj)
```

其中，listname 指的是要添加元素的列表；obj 表示到添加到列表末尾的数据，它可以是单个元素，也可以是列表、元组等，但不能是单个的数字。

请看下面的演示：

```PY
l = ['Python', 'C++', 'Java']
#追加元素
l.extend('C')
print(l)
#追加元组，元祖被拆分成多个元素
t = ('JavaScript', 'C#', 'Go')
l.extend(t)
print(l)
#追加列表，列表也被拆分成多个元素
l.extend(['Ruby', 'SQL'])
print(l)
```

运行结果：

```
['Python', 'C++', 'Java', 'C']
['Python', 'C++', 'Java', 'C', 'JavaScript', 'C#', 'Go']
['Python', 'C++', 'Java', 'C', 'JavaScript', 'C#', 'Go', 'Ruby', 'SQL']
```

##### (3)insert()方法插入元素

append() 和 extend() 方法只能在列表末尾插入元素，如果希望在列表中间某个位置插入元素，那么可以使用 insert() 方法。

insert() 的语法格式如下：

```
listname.insert(index , obj)
```

其中，index 表示指定位置的索引值。insert() 会将 obj 插入到 listname 列表第 index 个元素的位置。

当插入列表或者元祖时，insert() 也会将它们视为一个整体，作为一个元素插入到列表中，这一点和 append() 是一样的。

请看下面的演示代码：

```PY
l = ['Python', 'C++', 'Java']
#插入元素
l.insert(1, 'C')
print(l)
#插入元组，整个元祖被当成一个元素
t = ('C#', 'Go')
l.insert(2, t)
print(l)
#插入列表，整个列表被当成一个元素
l.insert(3, ['Ruby', 'SQL'])
print(l)
#插入字符串，整个字符串被当成一个元素
l.insert(0, "http://c.biancheng.net")
print(l)
```

输出结果为：

```
['Python', 'C', 'C++', 'Java']
['Python', 'C', ('C#', 'Go'), 'C++', 'Java']
['Python', 'C', ('C#', 'Go'), ['Ruby', 'SQL'], 'C++', 'Java']
['http://c.biancheng.net', 'Python', 'C', ('C#', 'Go'), ['Ruby', 'SQL'], 'C++', 'Java']
```

提示，insert() 主要用来在列表的中间位置插入元素，如果你仅仅希望在列表的末尾追加元素，那我更建议使用 append() 和 extend()。

#### 五.list列表删除元素

> **在 [Python](http://c.biancheng.net/python/) 列表中删除元素主要分为以下 3 种场景：**
>
> - **根据目标元素所在位置的索引进行删除，可以使用 del 关键字或者 pop() 方法；**
> - **根据元素本身的值进行删除，可使用列表（list类型）提供的 remove() 方法；**
> - **将列表中所有元素全部删除，可使用列表（list类型）提供的 clear() 方法。**

##### (1)del：根据索引值删除元素

> del 是 Python 中的关键字，专门用来执行删除操作，它不仅可以删除整个列表，还可以删除列表中的某些元素。

del 可以删除列表中的单个元素，格式为：

```
del listname[index]
```

**其中，listname 表示列表名称，index 表示元素的索引值。**

del 也可以删除中间一段连续的元素，格式为：

```
del listname[start : end]
```

其中，start 表示起始索引，end 表示结束索引。del 会删除从索引 start 到 end 之间的元素，不包括 end 位置的元素。

例子：使用 del 删除单个列表元素

```python
lang = ["Python", "C++", "Java", "PHP", "Ruby", "MATLAB"]
#使用正数索引
del lang[2]
print(lang)
#使用负数索引
del lang[-2]
print(lang)
```

运行结果：

```
['Python', 'C++', 'PHP', 'Ruby', 'MATLAB']
['Python', 'C++', 'PHP', 'MATLAB']
```

例子：使用 del 删除一段连续的元素

```py
lang = ["Python", "C++", "Java", "PHP", "Ruby", "MATLAB"]
del lang[1: 4]
print(lang)
lang.extend(["SQL", "C#", "Go"])
del lang[-5: -2]
print(lang)
```

运行结果：

```
['Python', 'Ruby', 'MATLAB']
['Python', 'C#', 'Go']
```

##### (2)pop()：根据索引值删除元素

Python pop() 方法用来删除列表中指定索引处的元素，具体格式如下：

```
listname.pop(index)
```

其中，listname 表示列表名称，index 表示索引值。如果不写 index 参数，默认会删除列表中的最后一个元素，类似于[数据结构](http://c.biancheng.net/data_structure/)中的“出栈”操作。

pop() 用法举例：

```py
nums = [40, 36, 89, 2, 36, 100, 7]
nums.pop(3)
print(nums)
nums.pop()
print(nums)
```

运行结果：

```
[40, 36, 89, 36, 100, 7]
[40, 36, 89, 36, 100]
```

##### (3)remove()：根据元素值进行删除

除了 del 关键字，Python 还提供了 remove() 方法，该方法会根据元素本身的值来进行删除操作。

需要注意的是，remove() 方法只会删除第一个和指定值相同的元素，而且必须保证该元素是存在的，否则会引发 ValueError 错误。

remove() 方法使用示例：

```py
nums = [40, 36, 89, 2, 36, 100, 7]
#第一次删除36
nums.remove(36)
print(nums)
#第二次删除36
nums.remove(36)
print(nums)
#删除78
nums.remove(78)
print(nums)
```

运行结果：

```
[40, 89, 2, 36, 100, 7]
[40, 89, 2, 100, 7]
Traceback (most recent call last):
    File "C:\Users\VincentCroft\Desktop\demo.py", line 9, in <module>
        nums.remove(78)
ValueError: list.remove(x): x not in list
```

最后一次删除，因为 78 不存在导致报错，所以我们在使用 remove() 删除元素时最好提前判断一下。

##### (4)clear()：删除列表所有元素

Python clear() 用来删除列表的所有元素，也即清空列表，请看下面的代码：

```py
url = list("http://c.biancheng.net/python/")
url.clear()
print(url)
```

运行结果：

```
[]
```

#### 六. list列表修改元素

[Python](http://c.biancheng.net/python/) 提供了两种修改列表（list）元素的方法，你可以每次修改单个元素，也可以每次修改一组元素（多个）。

##### (1)修改单个元素

修改单个元素非常简单，直接对元素赋值即可。请看下面的例子：

```py
nums = [40, 36, 89, 2, 36, 100, 7]
nums[2] = -26  #使用正数索引
nums[-3] = -66.2  #使用负数索引
print(nums)
```

运行结果：

```
[40, 36, -26, 2, -66.2, 100, 7]
```

使用索引得到列表元素后，通过`=`赋值就改变了元素的值。

##### (2)修改一组元素

Python 支持通过切片语法给一组元素赋值。在进行这种操作时，如果不指定步长（step 参数），Python 就不要求新赋值的元素个数与原来的元素个数相同；这意味，该操作既可以为列表添加元素，也可以为列表删除元素。

下面的代码演示了如何修改一组元素的值：

```py
nums = [40, 36, 89, 2, 36, 100, 7]
#修改第 1~4 个元素的值（不包括第4个元素）
nums[1: 4] = [45.25, -77, -52.5]
print(nums)
```

运行结果：

```
[40, 45.25, -77, -52.5, 36, 100, 7]
```

如果对空切片（slice）赋值，就相当于插入一组新的元素：

```py
nums = [40, 36, 89, 2, 36, 100, 7]
#在4个位置插入元素
nums[4: 4] = [-77, -52.5, 999]
print(nums)
```

运行结果：

```
[40, 36, 89, 2, -77, -52.5, 999, 36, 100, 7]
```

> 注意：使用切片语法赋值时，Python 不支持单个值，例如下面的写法就是**错误的**
>
> ```
> nums[4: 4] = -77
> ```

但是如果使用字符串赋值，Python 会自动把字符串转换成序列，其中的每个字符都是一个元素，请看下面的代码：

```python
s = list("Hello")
s[2:4] = "XYZ"
print(s)
```

运行结果：

```
['H', 'e', 'X', 'Y', 'Z', 'o']
```

使用切片语法时也可以指定步长（step 参数），但这个时候就要求所赋值的新元素的个数与原有元素的个数相同，

例如：

```python
nums = [40, 36, 89, 2, 36, 100, 7]
#步长为2，为第1、3、5个元素赋值
nums[1: 6: 2] = [0.025, -99, 20.5]
print(nums)
```

运行结果：

```
[40, 0.025, 89, -99, 36, 20.5, 7]
```

#### 七.list列表查找元素

[Python](http://c.biancheng.net/python/) 列表（list）提供了 index() 和 count() 方法，它们都可以用来查找元素。

##### (1)index() 方法

index() 方法用来查找某个元素在列表中出现的位置（也就是索引），如果该元素不存在，则会导致 ValueError 错误，所以在查找之前最好使用 count() 方法判断一下。

index() 的语法格式为：

```
listname.index(obj, start, end)
```

其中，listname 表示列表名称，obj 表示要查找的元素，start 表示起始位置，end 表示结束位置。

> start 和 end 参数用来指定检索范围：
>
> - start 和 end 可以都不写，此时会检索整个列表；
> - 如果只写 start 不写 end，那么表示检索从 start 到末尾的元素；
> - 如果 start 和 end 都写，那么表示检索 start 和 end 之间的元素。

index() 方法会返回元素所在列表中的索引值。

index() 方法使用举例：

```py
nums = [40, 36, 89, 2, 36, 100, 7, -20.5, -999]
#检索列表中的所有元素
print( nums.index(2) )
#检索3~7之间的元素
print( nums.index(100, 3, 7) )
#检索4之后的元素
print( nums.index(7, 4) )
#检索一个不存在的元素
print( nums.index(55) )
```

运行结果：

```
3
5
6
Traceback (most recent call last):
    File "C:\Users\mozhiyan\Desktop\demo.py", line 9, in <module>
        print( nums.index(55) )
ValueError: 55 is not in list
```

##### (2)count()方法

count() 方法用来统计某个元素在列表中出现的次数，基本语法格式为：

```
listname.count(obj)
```

其中，listname 代表列表名，obj 表示要统计的元素。

如果 count() 返回 0，就表示列表中不存在该元素，所以 count() 也可以用来判断列表中的某个元素是否存在。

count() 用法示例：

```py
nums = [40, 36, 89, 2, 36, 100, 7, -20.5, 36]
#统计元素出现的次数
print("36出现了%d次" % nums.count(36))
#判断一个元素是否存在
if nums.count(100):
    print("列表中存在100这个元素")
else:
    print("列表中不存在100这个元素")
```

运行结果：

```
36出现了3次
列表中存在100这个元素
```

